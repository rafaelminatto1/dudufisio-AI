{
  "meta": {
    "project": "DuduFisio-AI",
    "date": "2025-09-13",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "DuduFisio-AI is an integrated management system tailored for physiotherapy clinics. It merges traditional clinical management with AI-powered assistance to optimize patient care, clinical documentation, and operational workflow.",
  "core_goals": [
    "Digitize and automate physiotherapy clinical processes",
    "Enhance clinical documentation quality through AI assistance",
    "Increase operational efficiency and patient satisfaction"
  ],
  "key_features": [
    "Comprehensive patient management including personal data, medical history, and interactive pain mapping",
    "Robust scheduling system with daily, weekly, monthly views, conflict prevention, recurring appointments, and notifications",
    "Clinical documentation with rich text SOAP editor, auto-save, version control, and customizable templates",
    "AI Assistant integrated with Google Gemini for automatic report generation, clinical protocol suggestions, risk analysis, and financial insights",
    "Exercise library with categorized multimedia content and personalized prescriptions",
    "Patient portal featuring secure access, exercise tracking, appointment management, and communication channels",
    "Financial management including transaction records, reports, and PIX integration",
    "Inventory management with stock alerts and movement history",
    "Remote teleconsultation system using WebRTC",
    "WhatsApp communication integration for notifications and patient contact",
    "Comprehensive report and analytics dashboard with customizable export options",
    "Group management and mentoring systems for patient groups and interns",
    "Event management for clinic workshops and activities",
    "UI components library with TailwindCSS and Radix UI, custom React hooks, backend service integrations, and comprehensive testing framework"
  ],
  "user_flow_summary": [
    "User logs in with role-based authentication and two-factor verification",
    "Administrator manages clinic staff, financials, and inventories",
    "Fisioterapist manages patient records, schedules appointments, and documents treatments using the SOAP editor",
    "Patients access their portal to view prescriptions, pain diary, and communicate with the clinic",
    "AI Assistant provides clinical suggestions, generates reports, and offers economic insights",
    "Appointment scheduling prevents conflicts, supports recurring bookings, and sends notifications",
    "Partners and Educators access dedicated portals for client management and exercises",
    "Financial transactions are recorded and reports generated for operational insights",
    "Teleconsultations are conducted with integrated video and audio tools",
    "User actions trigger validations ensuring data consistency, security, and compliance with LGPD"
  ],
  "validation_criteria": [
    "System prevents duplicate patient entries by validating CPF",
    "Appointment system disallows scheduling conflicts and properly handles recurring events",
    "AI-generated reports maintain at least 95% accuracy and clinical relevance",
    "User authentication enforces two-factor authentication and role-based permissions",
    "All user data is encrypted in transit and at rest complying with LGPD",
    "Performance benchmarks are met: page loads under 2 seconds, supports 100 concurrent users, and AI queries respond within 10 seconds",
    "Audit logs capture all access and modification events",
    "Backup and disaster recovery processes are in place and tested regularly",
    "Responsive design verified across mobile, tablet, and desktop devices",
    "User interface provides clear feedback and maintains navigational consistency"
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "React",
      "Vite",
      "Supabase",
      "TailwindCSS",
      "Radix UI",
      "Jest",
      "ESLint",
      "Node.js",
      "PostgreSQL"
    ],
    "features": [
      {
        "name": "Sistema de Autenticação",
        "description": "Sistema de login com Supabase, autenticação de dois fatores e diferentes tipos de usuários (Admin, Terapeuta, Paciente, Educador Físico)",
        "files": [
          "contexts/SupabaseAuthContext.tsx",
          "contexts/AuthContext.tsx",
          "pages/auth/LoginPage.tsx",
          "pages/auth/TwoFactorSetupPage.tsx",
          "services/auth/authService.ts",
          "services/auth/supabaseAuthService.ts",
          "components/auth/AuthProvider.tsx",
          "components/auth/UserMenu.tsx"
        ]
      },
      {
        "name": "Sistema de Agendamento",
        "description": "Sistema completo de agendamento com múltiplas visualizações (diária, semanal, mensal), filtros avançados e gestão de conflitos",
        "files": [
          "pages/AgendaPage.tsx",
          "pages/AgendaSettingsPage.tsx",
          "components/agenda/AdvancedFilters.tsx",
          "components/agenda/DailyView.tsx",
          "components/agenda/WeeklyView.tsx",
          "components/agenda/MonthlyView.tsx",
          "components/agenda/ListView.tsx",
          "components/agenda/EnhancedAgendaPage.tsx",
          "components/agenda/AppointmentContextMenu.tsx",
          "components/agenda/BookingModal.tsx",
          "services/appointmentService.ts",
          "services/availabilityService.ts",
          "services/scheduling/conflictDetection.ts",
          "services/scheduling/recurrenceService.ts"
        ]
      },
      {
        "name": "Gestão de Pacientes",
        "description": "Sistema completo de gestão de pacientes com histórico clínico, evoluções, anamnese e relatórios",
        "files": [
          "pages/PatientListPage.tsx",
          "pages/PatientDetailPage.tsx",
          "components/pacientes/PatientList.tsx",
          "components/pacientes/PatientDetailClient.tsx",
          "components/pacientes/PatientForm.tsx",
          "components/pacientes/ClinicalHistoryTimeline.tsx",
          "components/pacientes/NewSoapNoteModal.tsx",
          "components/PatientFormModal.tsx",
          "services/patientService.ts",
          "services/supabase/patientService.ts",
          "services/soapNoteService.ts"
        ]
      },
      {
        "name": "Assistente de IA",
        "description": "Sistema de IA integrado com Google Gemini para sugestões clínicas, análise de dados e assistência inteligente",
        "files": [
          "components/AiAssistant.tsx",
          "components/acompanhamento/AiSuggestionModal.tsx",
          "services/geminiService.ts",
          "services/ai/aiOrchestratorService.ts",
          "services/ai/multimodalAiService.ts",
          "services/ai/knowledgeService.ts",
          "services/ai/cacheService.ts",
          "pages/AiAnalyticsPage.tsx",
          "pages/AiSettingsPage.tsx"
        ]
      },
      {
        "name": "Portal do Paciente",
        "description": "Portal dedicado para pacientes com gamificação, exercícios, diário de dor e acompanhamento de progresso",
        "files": [
          "pages/PatientPortalDashboard.tsx",
          "pages/patient-portal/PatientDashboardPage.tsx",
          "pages/patient-portal/MyAppointmentsPage.tsx",
          "pages/patient-portal/MyExercisesPage.tsx",
          "pages/patient-portal/PatientPainDiaryPage.tsx",
          "pages/patient-portal/PatientProgressPage.tsx",
          "components/patient-portal/PatientSidebar.tsx",
          "components/patient-portal/gamification/",
          "components/patient/PainMap.tsx",
          "components/patient/PatientClinicalDashboard.tsx",
          "services/gamificationService.ts",
          "services/painLogService.ts"
        ]
      },
      {
        "name": "Portal de Parceiros",
        "description": "Portal para educadores físicos e parceiros com gestão de clientes, exercícios e relatórios",
        "files": [
          "pages/PartnerPortalDashboard.tsx",
          "pages/partner-portal/ClientListPage.tsx",
          "pages/partner-portal/ClientDetailPage.tsx",
          "pages/partner-portal/EducatorDashboardPage.tsx",
          "pages/partner-portal/FinancialsPage.tsx",
          "components/partner-portal/PartnerSidebar.tsx",
          "components/partners/PartnerFormModal.tsx",
          "components/partners/PartnerList.tsx",
          "services/partnershipService.ts"
        ]
      },
      {
        "name": "Sistema Financeiro",
        "description": "Gestão financeira completa com transações, vouchers, relatórios e integração com pagamentos",
        "files": [
          "pages/FinancialPage.tsx",
          "pages/FinancialDashboardPage.tsx",
          "components/financial/TransactionList.tsx",
          "components/financial/TransactionFormModal.tsx",
          "services/financialService.ts",
          "services/voucherService.ts",
          "services/payment/paymentService.ts"
        ]
      },
      {
        "name": "Biblioteca de Exercícios",
        "description": "Sistema de gestão de exercícios com categorias, avaliações e prescrições personalizadas",
        "files": [
          "pages/ExerciseLibraryPage.tsx",
          "components/ExerciseCard.tsx",
          "components/ExerciseFormModal.tsx",
          "services/exerciseLibraryService.ts",
          "services/exerciseService.ts",
          "data/mockExerciseLibrary.ts"
        ]
      },
      {
        "name": "Sistema de Inventário",
        "description": "Gestão de estoque de materiais clínicos com alertas de validade e movimentações",
        "files": [
          "pages/InventoryDashboardPage.tsx",
          "components/inventory/ItemCard.tsx",
          "components/inventory/ItemFormModal.tsx",
          "components/inventory/StockLevel.tsx",
          "components/inventory/ExpiryWarning.tsx",
          "components/inventory/StockMovementModal.tsx",
          "services/inventoryService.ts"
        ]
      },
      {
        "name": "Teleconsulta",
        "description": "Sistema de consultas remotas com WebRTC e integração de vídeo",
        "files": [
          "pages/TeleconsultaPage.tsx",
          "components/teleconsulta/",
          "services/teleconsulta/webrtcTeleconsultaService.ts"
        ]
      },
      {
        "name": "WhatsApp Integration",
        "description": "Integração com WhatsApp para comunicação com pacientes e notificações",
        "files": [
          "pages/WhatsAppPage.tsx",
          "components/whatsapp/WhatsappChatInterface.tsx",
          "services/whatsappService.ts",
          "services/whatsappLogService.ts"
        ]
      },
      {
        "name": "Sistema de Relatórios",
        "description": "Geração de relatórios clínicos, financeiros e de produtividade",
        "files": [
          "pages/ReportsPage.tsx",
          "components/reports/FinancialReport.tsx",
          "components/reports/PatientReport.tsx",
          "services/reportService.ts"
        ]
      },
      {
        "name": "Analytics e Dashboard",
        "description": "Dashboards com métricas, KPIs e análises avançadas de dados clínicos",
        "files": [
          "pages/CompleteDashboard.tsx",
          "pages/ClinicalAnalyticsPage.tsx",
          "components/dashboard/KPICards.tsx",
          "components/dashboard/RevenueChart.tsx",
          "components/dashboard/TeamProductivityChart.tsx",
          "components/analytics/ClinicalAnalyticsDashboard.tsx",
          "services/dashboardService.ts",
          "services/analytics/advancedAnalyticsService.ts"
        ]
      },
      {
        "name": "Sistema de Grupos",
        "description": "Gestão de grupos de pacientes e sessões em grupo",
        "files": [
          "pages/GroupsPage.tsx",
          "components/GroupCard.tsx",
          "components/GroupFormModal.tsx",
          "services/groupService.ts"
        ]
      },
      {
        "name": "Mentoria",
        "description": "Sistema de mentoria para estagiários e profissionais em formação",
        "files": [
          "pages/MentoriaPage.tsx",
          "components/mentoria/CasesList.tsx",
          "components/mentoria/InternsTable.tsx",
          "components/mentoria/MentoriaStats.tsx",
          "services/mentoriaService.ts"
        ]
      },
      {
        "name": "Sistema de Eventos",
        "description": "Gestão de eventos, workshops e atividades da clínica",
        "files": [
          "pages/EventsListPage.tsx",
          "pages/EventDetailPage.tsx",
          "components/events/EventCard.tsx",
          "components/events/EventFormModal.tsx",
          "components/events/ParticipantTable.tsx",
          "services/eventService.ts"
        ]
      },
      {
        "name": "Componentes UI",
        "description": "Biblioteca de componentes reutilizáveis baseada em Radix UI e TailwindCSS",
        "files": [
          "components/ui/",
          "design-system/ThemeProvider.tsx",
          "design-system/tokens.ts"
        ]
      },
      {
        "name": "Hooks Customizados",
        "description": "Hooks React personalizados para lógica de negócio e gerenciamento de estado",
        "files": [
          "hooks/"
        ]
      },
      {
        "name": "Serviços de Backend",
        "description": "Serviços para integração com APIs, banco de dados e funcionalidades de backend",
        "files": [
          "services/",
          "lib/supabase.ts",
          "lib/api.ts"
        ]
      },
      {
        "name": "Sistema de Testes",
        "description": "Testes unitários, de integração e contratos com Jest",
        "files": [
          "tests/",
          "jest.config.cjs",
          "scripts/run-tests.sh"
        ]
      }
    ]
  }
}
