{
  "meta": {
    "project": "DuduFisio-AI",
    "date": "2025-09-13",
    "prepared_by": "Software Development Manager"
  },
  "product_overview": "DuduFisio-AI is an integrated management system for physiotherapy clinics combining traditional clinical management features with Artificial Intelligence assistance to optimize patient care, clinical documentation, and operational management.",
  "core_goals": [
    "Digitize and automate physiotherapy clinical processes",
    "Enhance quality of clinical documentation through AI",
    "Increase operational efficiency and patient satisfaction"
  ],
  "key_features": [
    "Comprehensive patient management including registration, editing, medical history, and interactive body pain mapping",
    "Appointment scheduling system with calendar views, conflict prevention, recurring appointments, and notifications",
    "Rich clinical documentation module supporting SOAP notes with rich text editor, auto-save, templates, and version history",
    "AI assistant generating physiotherapeutic reports, treatment protocol suggestions, risk analysis, clinical queries, and economic insights",
    "Exercise library categorized by specialty with rich media, personalized prescription, contraindications alerts, and difficulty levels",
    "Secure patient portal for accessing personal data, prescribed exercises, appointment viewing and requests, and communication with clinic",
    "Dashboard and customizable reports featuring operational metrics, financial indicators, clinical analytics, interactive charts, and export options",
    "Financial management with payment tracking, revenue reports, delinquency control, and multiple payment methods including PIX",
    "Inventory management with stock control, alerts, categorization, and history of movements",
    "Task management system including task creation, prioritization, progress tracking, and notifications"
  ],
  "user_flow_summary": [
    "Administrator manages users, oversees clinic dashboard, financials, inventory, and reports",
    "Physiotherapist registers and manages patients, documents clinical notes using SOAP, prescribes exercises, and schedules appointments",
    "Intern views patient and appointment data with read-only access and assists in learning",
    "Patient accesses portal to view personal clinical records, exercises, make appointment requests, and communicate with clinic",
    "All users receive relevant notifications and reminders based on roles and activities"
  ],
  "validation_criteria": [
    "System supports user authentication with role-based access and session management",
    "Patients can be registered with validation including unique CPF and advanced search capabilities",
    "Appointments prevent scheduling conflicts and support recurrence with notifications",
    "Clinical documentation editor supports rich text, auto-save, templates, versioning, and AI-generated reports",
    "AI assistant provides treatment suggestions, risk analysis, and clinical query responses within specified performance constraints",
    "Exercise library allows categorization, media embedding, personalized prescriptions, and contraindication alerts",
    "Patient portal provides secure login and access to personal data and communication channels",
    "Financial management accurately tracks payments, revenue, and supports multiple payment methods including PIX",
    "Inventory system manages stock levels with alerts and historical tracking",
    "System performance meets load, response time, and availability targets while ensuring data security and LGPD compliance"
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "React",
      "Vite",
      "Supabase",
      "Tailwind CSS",
      "Node.js",
      "PostgreSQL",
      "Vercel",
      "GitHub Actions",
      "Husky",
      "ESLint",
      "Jest"
    ],
    "features": [
      {
        "name": "Authentication System",
        "description": "Sistema completo de autenticação com Supabase, incluindo login, logout e gerenciamento de usuários",
        "files": [
          "contexts/AuthContext.tsx",
          "contexts/SupabaseAuthContext.tsx",
          "components/auth/LoginForm.tsx",
          "components/auth/SignupForm.tsx",
          "services/supabase/authService.ts"
        ]
      },
      {
        "name": "Patient Management",
        "description": "Gerenciamento completo de pacientes incluindo cadastro, edição, histórico clínico e portal do paciente",
        "files": [
          "pages/PatientListPage.tsx",
          "pages/PatientDetailPage.tsx",
          "pages/patient-portal/PatientDashboardPage.tsx",
          "pages/patient-portal/MyAppointmentsPage.tsx",
          "pages/patient-portal/PatientProgressPage.tsx",
          "services/patientService.ts",
          "services/supabase/patientService.ts",
          "components/PatientFormModal.tsx",
          "components/patient/PatientClinicalDashboard.tsx"
        ]
      },
      {
        "name": "Appointment Scheduling",
        "description": "Sistema de agendamento de consultas com calendar, recorrência e gerenciamento de horários",
        "files": [
          "pages/AgendaPage.tsx",
          "components/agenda/EnhancedAgendaPage.tsx",
          "components/AppointmentFormModal.tsx",
          "components/AppointmentCard.tsx",
          "services/appointmentService.ts",
          "services/supabase/appointmentService.ts",
          "services/scheduling/recurrenceService.ts"
        ]
      },
      {
        "name": "Telemedicine",
        "description": "Sistema de teleconsulta com WebRTC para videochamadas e consultas remotas",
        "files": [
          "pages/TeleconsultaPage.tsx",
          "components/teleconsulta/VideoCall.tsx",
          "components/teleconsulta/TeleconsultaRoom.tsx",
          "services/teleconsulta/webrtcTeleconsultaService.ts"
        ]
      },
      {
        "name": "Exercise Library",
        "description": "Biblioteca de exercícios fisioterápicos com prescrições e acompanhamento",
        "files": [
          "pages/ExerciseLibraryPage.tsx",
          "components/ExerciseCard.tsx",
          "components/ExerciseFormModal.tsx",
          "services/exerciseService.ts",
          "data/mockExerciseLibrary.ts"
        ]
      },
      {
        "name": "Financial Management",
        "description": "Gestão financeira incluindo pagamentos, planos e relatórios financeiros",
        "files": [
          "pages/FinancialDashboardPage.tsx",
          "pages/partner-portal/FinancialsPage.tsx",
          "services/payment/paymentService.ts",
          "services/financialService.ts",
          "components/financial/PaymentCard.tsx"
        ]
      },
      {
        "name": "Reports and Analytics",
        "description": "Sistema de relatórios e análise de dados com gráficos e métricas",
        "files": [
          "pages/ReportsPage.tsx",
          "components/reports/ReportCard.tsx",
          "components/analytics/MetricCard.tsx",
          "services/reportService.ts"
        ]
      },
      {
        "name": "AI Assistant",
        "description": "Assistente de IA para sugestões de tratamento e análise clínica",
        "files": [
          "components/AiAssistant.tsx",
          "components/acompanhamento/AiSuggestionModal.tsx",
          "services/geminiService.ts"
        ]
      },
      {
        "name": "Partner Portal",
        "description": "Portal para parceiros educacionais com gestão de clientes e cursos",
        "files": [
          "pages/partner-portal/EducatorDashboardPage.tsx",
          "pages/partner-portal/ClientListPage.tsx",
          "components/partner-portal/PartnerSidebar.tsx",
          "services/partnershipService.ts"
        ]
      },
      {
        "name": "Inventory Management",
        "description": "Gestão de inventário de equipamentos e materiais",
        "files": [
          "components/inventory/InventoryCard.tsx",
          "services/inventoryService.ts"
        ]
      },
      {
        "name": "Notification System",
        "description": "Sistema de notificações em tempo real e alertas",
        "files": [
          "pages/NotificationCenterPage.tsx",
          "services/notificationService.ts",
          "contexts/ToastContext.tsx"
        ]
      },
      {
        "name": "Real-time Features",
        "description": "Funcionalidades em tempo real usando Supabase realtime",
        "files": [
          "services/supabase/realtimeService.ts",
          "hooks/useRealtime.ts"
        ]
      },
      {
        "name": "UI Components",
        "description": "Biblioteca de componentes de interface baseada em shadcn/ui",
        "files": [
          "components/ui/button.tsx",
          "components/ui/card.tsx",
          "components/ui/input.tsx",
          "components/ui/modal.tsx",
          "components/ui/skeleton.tsx",
          "components/ui/calendar.tsx"
        ]
      },
      {
        "name": "Data Management",
        "description": "Contexto global para gerenciamento de dados da aplicação",
        "files": [
          "contexts/AppContext.tsx",
          "contexts/DataContext.tsx",
          "hooks/usePatients.ts",
          "hooks/useAppointments.ts"
        ]
      },
      {
        "name": "Deployment Automation",
        "description": "Automação completa para deploy com verificações pré-commit e CI/CD",
        "files": [
          ".husky/pre-commit",
          ".github/workflows/ci-cd.yml",
          "scripts/check-imports.js",
          "PLANO_RESOLUCAO_DEPLOY_VERCEL.md"
        ]
      }
    ]
  }
}
