"use strict";exports.id=6526,exports.ids=[6526],exports.modules={6526:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{default:()=>o});var e=c(8732),f=c(82015),g=c(42227),h=c(28471),i=c(19594),j=c(81567),k=c(19119),l=c(99597),m=c(51302),n=a([k]);k=(n.then?(await n)():n)[0];let o=()=>{let[a,b]=(0,f.useState)([]),[c,d]=(0,f.useState)(!0),{user:n}=(0,h.As)(),{showToast:o}=(0,l.dj)();return(0,f.useEffect)(()=>{(async()=>{if(n?.patientId){d(!0);try{let a=await i.BJ(n.patientId);b(a)}catch(a){o("Erro ao carregar seus vouchers.","error")}finally{d(!1)}}})()},[n,o]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(g.A,{title:"Meus Vouchers",subtitle:"Acompanhe seus planos e cr\xe9ditos ativos com a educadora f\xedsica parceira."}),(0,e.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:c?Array.from({length:2}).map((a,b)=>(0,e.jsx)(k.E,{className:"h-48 rounded-2xl"},b)):0===a.length?(0,e.jsxs)("div",{className:"col-span-full text-center p-12 bg-white rounded-2xl shadow-sm",children:[(0,e.jsx)(m.RgA,{className:"w-16 h-16 mx-auto text-slate-300 mb-4"}),(0,e.jsx)("h3",{className:"text-lg font-semibold text-slate-700",children:"Nenhum voucher ativo"}),(0,e.jsx)("p",{className:"text-slate-500 mt-1",children:"Voc\xea ainda n\xe3o adquiriu nenhum servi\xe7o da parceria."})]}):a.map(a=>(0,e.jsx)(j.A,{voucher:a},a.id))})]})};d()}catch(a){d(a)}})},19119:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{E:()=>h});var e=c(8732),f=c(71253),g=a([f]);function h({className:a,...b}){return(0,e.jsx)("div",{className:(0,f.cn)("animate-pulse rounded-md bg-muted",a),...b})}f=(g.then?(await g)():g)[0],d()}catch(a){d(a)}})},19594:(a,b,c)=>{c.d(b,{BJ:()=>g,Tj:()=>f,oX:()=>h});var d=c(4183);let e=a=>new Promise(b=>setTimeout(b,a)),f=async()=>(await e(500),d.Nk),g=async a=>(await e(300),d.XM.filter(b=>b.patientId===a)),h=async(a,b)=>{await e(1e3);let c=d.Nk.find(b=>b.id===a);if(!c)throw Error("Plano de voucher n\xe3o encontrado.");let f=new Date,g=new Date;g.setDate(f.getDate()+c.durationDays);let h={id:`voucher_${Date.now()}`,code:`VF-${Math.random().toString(36).substr(2,9).toUpperCase()}`,patientId:b,plan:c,status:"activated",purchaseDate:f,activationDate:f,expiryDate:g,remainingCredits:c.credits};return d.XM.unshift(h),h}},42227:(a,b,c)=>{c.d(b,{A:()=>e});var d=c(8732);c(82015);let e=({title:a,subtitle:b,children:c})=>(0,d.jsxs)("div",{className:"pb-8 md:flex md:items-center md:justify-between",children:[(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold leading-tight text-slate-900 tracking-tight",children:a}),(0,d.jsx)("p",{className:"mt-2 text-lg text-slate-600",children:b})]}),(0,d.jsx)("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:c})]})},71253:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{cn:()=>h});var e=c(50802),f=c(75979),g=a([e,f]);function h(...a){return(0,f.twMerge)((0,e.clsx)(a))}[e,f]=g.then?(await g)():g,d()}catch(a){d(a)}})},81567:(a,b,c)=>{c.d(b,{A:()=>f});var d=c(8732);c(82015);var e=c(51302);let f=({voucher:a})=>{let{plan:b,remainingCredits:c,status:f,expiryDate:g}=a,h=c/b.credits*100;return(0,d.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border-l-4 border-teal-500",children:[(0,d.jsxs)("div",{className:"flex justify-between items-start",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:b.name}),(0,d.jsx)("p",{className:"text-sm text-slate-500",children:b.description})]}),(0,d.jsx)("span",{className:`px-3 py-1 text-xs font-semibold rounded-full capitalize ${"activated"===f?"bg-green-100 text-green-800":"bg-slate-100 text-slate-700"}`,children:"activated"===f?"Ativo":f})]}),(0,d.jsxs)("div",{className:"my-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,d.jsx)("span",{className:"text-sm font-semibold text-slate-700",children:"Cr\xe9ditos Restantes"}),(0,d.jsxs)("span",{className:"text-sm font-bold text-teal-600",children:[c," / ",b.credits]})]}),(0,d.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:(0,d.jsx)("div",{className:"bg-teal-500 h-2.5 rounded-full",style:{width:`${h}%`}})})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center text-sm text-slate-500 border-t pt-4",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(e.VvS,{className:"w-4 h-4 mr-2"}),(0,d.jsxs)("span",{children:["Validade: ",new Date(g).toLocaleDateString("pt-BR")]})]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(e.rAV,{className:"w-4 h-4 mr-2"}),(0,d.jsxs)("span",{children:["Ativado em: ",new Date(a.activationDate).toLocaleDateString("pt-BR")]})]})]})]})}},99597:(a,b,c)=>{c.d(b,{dj:()=>g}),c(8732);var d=c(82015);c(54822);let e=(0,d.createContext)(void 0),f=(0,d.createContext)(void 0),g=()=>{let a=(()=>{let a=(0,d.useContext)(e);return void 0===a?{enabled:!1,logRouterChange:()=>{},logHookCall:()=>{},logContextAccess:()=>{}}:a})(),b=(0,d.useContext)(f);if(a.logContextAccess("ToastContext","useToast"),!b){let a=Error("useToast must be used within a ToastProvider");throw console.error("‚ùå Toast Context Error:",a.message),a}return{showToast:b.showToast}}}};