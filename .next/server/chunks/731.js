"use strict";exports.id=731,exports.ids=[731],exports.modules={90731:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{default:()=>p});var e=c(8732),f=c(82015),g=c(51302),h=c(42227),i=c(75355),j=c(60081),k=c(35014),l=c(19119),m=c(99597),n=c(8246),o=a([l]);l=(o.then?(await o)():o)[0];let p=()=>{let[a,b]=(0,f.useState)([]),[c,d]=(0,f.useState)([]),[o,p]=(0,f.useState)(!0),[q,r]=(0,f.useState)(null),[s,t]=(0,f.useState)(""),[u,v]=(0,f.useState)(!1),[w,x]=(0,f.useState)(null),{showToast:y}=(0,m.dj)(),z=async()=>{p(!0);try{let{exercises:a}=await i.xY(),c=a.filter(a=>"pending_approval"!==a.status),e=[...new Set(c.map(a=>a.category))].sort();b(c),d(e)}catch(a){r("Falha ao carregar exerc\xedcios."),y("Falha ao carregar exerc\xedcios.","error")}finally{p(!1)}};(0,f.useEffect)(()=>{z()},[]);let A=(0,f.useMemo)(()=>a.filter(a=>a.name.toLowerCase().includes(s.toLowerCase())||a.category.toLowerCase().includes(s.toLowerCase())),[s,a]),B=async a=>{try{await i.WV(a),y("Sugest\xe3o de exerc\xedcio enviada para aprova\xe7\xe3o!","success"),v(!1)}catch{y("Falha ao enviar sugest\xe3o.","error")}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(h.A,{title:"Biblioteca de Exerc\xedcios",subtitle:"Consulte os exerc\xedcios da cl\xednica e sugira novas adi\xe7\xf5es.",children:(0,e.jsxs)("button",{onClick:()=>v(!0),className:"inline-flex items-center justify-center rounded-lg border border-transparent bg-teal-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-teal-600 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2",children:[(0,e.jsx)(g.FWt,{className:"-ml-1 mr-2 h-5 w-5"}),"Sugerir Exerc\xedcio"]})}),(0,e.jsx)(k.A,{isOpen:u,onClose:()=>v(!1),onSave:B,saveAsSuggestion:!0,allCategories:c}),(0,e.jsx)(n.A,{isOpen:!!w,onClose:()=>x(null),videoUrl:w?.url,title:w?.title}),(0,e.jsx)("div",{className:"bg-white p-6 rounded-2xl shadow-sm mb-6",children:(0,e.jsxs)("div",{className:"relative w-full max-w-sm",children:[(0,e.jsx)(g.vji,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,e.jsx)("input",{type:"text",placeholder:"Buscar por nome ou categoria...",value:s,onChange:a=>t(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg"})]})}),(0,e.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o?Array.from({length:6}).map((a,b)=>(0,e.jsx)(l.E,{className:"h-64 w-full rounded-2xl"},b)):q?(0,e.jsx)("div",{className:"col-span-full text-center p-10 text-red-500",children:q}):0===A.length?(0,e.jsx)("div",{className:"col-span-full text-center p-10 text-slate-500",children:"Nenhum exerc\xedcio encontrado."}):A.map(a=>(0,e.jsx)(j.A,{exercise:a,onEdit:()=>y("Apenas fisioterapeutas podem editar exerc\xedcios.","info"),onDelete:()=>y("Apenas fisioterapeutas podem excluir exerc\xedcios.","info"),onPlay:()=>a.media.videoUrl&&x({url:a.media.videoUrl,title:a.name})},a.id))})]})};d()}catch(a){d(a)}})}};