"use strict";exports.id=6363,exports.ids=[6363],exports.modules={5181:(a,b,c)=>{c.d(b,{AV:()=>j,Ms:()=>m,VF:()=>i,_z:()=>d,gl:()=>k,mt:()=>g,n8:()=>e,oP:()=>f,rW:()=>h,vm:()=>l});let d=()=>Promise.resolve({treatmentGoals:[],exercises:[]}),e=()=>Promise.resolve(""),f=()=>Promise.resolve(""),g=()=>Promise.resolve(""),h=()=>Promise.resolve(""),i=()=>Promise.resolve(""),j=()=>Promise.resolve(""),k=()=>Promise.resolve(""),l=()=>Promise.resolve(""),m=()=>Promise.resolve("")},6439:(a,b,c)=>{c.d(b,{d:()=>e});var d=c(82015);function e(a,b){let[c,e]=(0,d.useState)(a);return c}},19119:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{E:()=>h});var e=c(8732),f=c(71253),g=a([f]);function h({className:a,...b}){return(0,e.jsx)("div",{className:(0,f.cn)("animate-pulse rounded-md bg-muted",a),...b})}f=(g.then?(await g)():g)[0],d()}catch(a){d(a)}})},22320:(a,b,c)=>{c.d(b,{Fq:()=>h,td:()=>i,z0:()=>g});var d=c(92273),e=c(40396);let f=a=>new Promise(b=>setTimeout(b,a)),g=async a=>{await f(300);let b=d.db.getTreatmentPlans().find(b=>b.patientId===a);if(b){let a=await h(b.id);return{...b,exercises:a}}},h=async a=>(await f(300),d.db.getExercisePrescriptions().filter(b=>b.treatmentPlanId===a)),i=async(a,b)=>{await f(400);let c=d.db.getTreatmentPlans(),g=c.findIndex(b=>b.patientId===a);if(g>-1){let a=c[g],f=(b.exercises||[]).map((b,c)=>({id:`ex_${Date.now()}_${c}`,treatmentPlanId:a.id,exerciseName:b.exerciseName,sets:b.sets,repetitions:b.repetitions,resistanceLevel:"A definir",progressionCriteria:"A definir"})),h={...a,treatmentGoals:b.treatmentGoals||a.treatmentGoals,exercises:f.length>0?f:a.exercises};return d.db.updateTreatmentPlan(h),d.db.setExercisePrescriptionsForPlan(a.id,f),e.g.emit("treatmentPlans:changed"),h}throw Error("Plano de tratamento n\xe3o encontrado para este paciente.")}},28850:(a,b,c)=>{c.d(b,{A:()=>h});var d=c(8732),e=c(82015),f=c(51302);let g=[{label:"D",value:0},{label:"S",value:1},{label:"T",value:2},{label:"Q",value:3},{label:"Q",value:4},{label:"S",value:5},{label:"S",value:6}],h=({recurrenceRule:a,onChange:b})=>{let[c,h]=(0,e.useState)(!!a);return(0,d.jsxs)("div",{className:"p-3 bg-slate-50 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("label",{htmlFor:"recurring-toggle",className:"flex items-center text-sm font-medium text-slate-700 cursor-pointer",children:[(0,d.jsx)(f.kM6,{className:"w-4 h-4 mr-2 text-slate-400"})," Repetir Consulta"]}),(0,d.jsx)("input",{type:"checkbox",id:"recurring-toggle",checked:c,onChange:a=>(a=>{if(h(a),a){let a=new Date,c=new Date;c.setMonth(c.getMonth()+1),b({frequency:"weekly",days:[a.getDay()],until:c.toISOString().split("T")[0]})}else b(void 0)})(a.target.checked),className:"h-4 w-4 rounded border-gray-300 text-sky-600 focus:ring-sky-500"})]}),c&&a&&(0,d.jsxs)("div",{className:"mt-4 space-y-3 animate-fade-in-fast",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-xs font-semibold text-slate-600",children:"Repetir Semanalmente nos dias:"}),(0,d.jsx)("div",{className:"mt-2 flex items-center justify-between space-x-1",children:g.map(c=>(0,d.jsx)("button",{type:"button",onClick:()=>(c=>{if(!a)return;let d=a.days.includes(c)?a.days.filter(a=>a!==c):[...a.days,c];d.length>0&&b({...a,days:d})})(c.value),className:`w-8 h-8 flex items-center justify-center rounded-full text-sm font-bold transition-colors
                                        ${a.days.includes(c.value)?"bg-sky-500 text-white":"bg-slate-200 text-slate-600 hover:bg-slate-300"}
                                    `,children:c.label},c.value))})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"until-date",className:"text-xs font-semibold text-slate-600",children:"At\xe9:"}),(0,d.jsx)("input",{id:"until-date",type:"date",value:a.until,onChange:c=>{a&&b({...a,until:c.target.value})},className:"mt-1 w-full p-2 border border-slate-300 rounded-lg"})]})]}),(0,d.jsx)("style",{children:`
                @keyframes fade-in-fast {
                    from { opacity: 0; transform: translateY(-5px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                .animate-fade-in-fast { animation: fade-in-fast 0.3s ease-out forwards; }
            `})]})}},30853:(a,b,c)=>{c.d(b,{A:()=>e});let d=(a,b)=>a.startTime<b.endTime&&a.endTime>b.startTime,e=(a,b,c)=>{let e=b.filter(a=>a.id!==c);for(let b of a){let a=e.find(a=>b.therapistId===a.therapistId&&d(b,a));if(a)return a}}},31761:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{A:()=>r});var e=c(8732),f=c(82015),g=c(51302),h=c(72393),i=c(99597),j=c(70033),k=c(98447),l=c(27561),m=c(28850),n=c(30853),o=c(68125),p=c(84313),q=a([j]);j=(q.then?(await q)():q)[0];let r=({isOpen:a,onClose:b,onSave:c,onDelete:d,appointment:q,appointmentToEdit:r,initialData:s,patients:t=[],therapists:u=[],allAppointments:v=[]})=>{let[w,x]=(0,f.useState)(null),[y,z]=(0,f.useState)(h.YY.Session),[A,B]=(0,f.useState)(60),[C,D]=(0,f.useState)(""),[E,F]=(0,f.useState)(!1),[G,H]=(0,f.useState)(void 0),[I,J]=(0,f.useState)(!1),{showToast:K}=(0,i.dj)(),L=(0,f.useRef)(null),M=(0,f.useMemo)(()=>r?.startTime||s?.date||new Date,[r,s]),[N,O]=(0,f.useState)((0,f.useMemo)(()=>(0,k.GP)(M,"HH:mm"),[M])),[P,Q]=(0,f.useState)(r?.therapistId||s?.therapistId||u[0]?.id||"");(0,f.useEffect)(()=>{if(a)if(J(p.T.getSettings().teleconsultaEnabled),r){let a=t.find(a=>a.id===r.patientId);x(a||null),z(r.type);let b=(r.endTime.getTime()-r.startTime.getTime())/6e4;B(b),D(r.observations||""),Q(r.therapistId),O((0,k.GP)(r.startTime,"HH:mm")),H(r.recurrenceRule)}else x(null),z(h.YY.Session),B(60),D(""),Q(s?.therapistId||u[0]?.id||""),O((0,k.GP)(s?.date||new Date,"HH:mm")),H(void 0)},[r,s,a,t,u]),(0,f.useEffect)(()=>{let c=a=>{L.current&&!L.current.contains(a.target)&&b()};return a&&document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[b,a]);let R=async()=>{if(!w)return void K("Selecione um paciente para agendar.","error");F(!0);let a=new Date(M),[d,e]=N.split(":");a.setHours(parseInt(d||"0"),parseInt(e||"0"),0,0);let f=new Date(a.getTime()+6e4*A),g={id:r?.id||`app_${Date.now()}`,patientId:w.id,patientName:w.name,patientAvatarUrl:w.avatarUrl||`https://i.pravatar.cc/150?u=${w.id}`,therapistId:P,title:r?.title||`${y}`,startTime:a,endTime:f,status:r?.status||h.y2.Scheduled,type:y,observations:C,value:r?.value||120,paymentStatus:r?.paymentStatus||"pending",recurrenceRule:G||{frequency:"weekly",days:[],until:""},seriesId:G?r?.seriesId||`series_${Date.now()}`:""},i=(0,o.n)(g),j=(0,n.A)(i,v,r?.id);if(j){K(`Conflito com o agendamento de ${j.patientName} em ${(0,k.GP)(j.startTime,"dd/MM HH:mm")}.`,"error"),F(!1);return}let l=!0;for(let a of i)if(!await c(a)){l=!1;break}l&&b(),F(!1)};if(!a)return null;let S=r?"Editar Agendamento":"Novo Agendamento";return(0,e.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,e.jsxs)("div",{ref:L,className:"bg-white rounded-lg shadow-xl w-full max-w-lg mx-4 max-h-[90vh] flex flex-col",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,e.jsx)("h2",{className:"text-xl font-semibold",children:S}),(0,e.jsx)("button",{onClick:b,className:"p-1 hover:bg-slate-100 rounded-full transition",children:(0,e.jsx)(g.X,{className:"w-5 h-5"})})]}),(0,e.jsxs)("div",{className:"bg-sky-50 px-4 py-3 flex items-center gap-4 text-sm",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(g.VvS,{className:"w-4 h-4 text-sky-600"}),(0,e.jsx)("span",{className:"font-medium",children:(0,k.GP)(M,"EEEE, d 'de' MMMM",{locale:l.F})})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(g.zD7,{className:"w-4 h-4 text-sky-600"}),(0,e.jsx)("input",{type:"time",value:N,onChange:a=>O(a.target.value),className:"font-medium bg-transparent border-none p-0 focus:ring-0"})]})]}),(0,e.jsxs)("div",{className:"p-4 space-y-4 overflow-y-auto",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Paciente *"}),(0,e.jsx)(j.a,{onSelectPatient:x,selectedPatient:w})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Fisioterapeuta"}),(0,e.jsx)("select",{value:P,onChange:a=>Q(a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-sky-500 focus:border-sky-500 text-sm",children:u.map(a=>(0,e.jsx)("option",{value:a.id,children:a.name},a.id))})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Tipo de Atendimento"}),(0,e.jsx)("select",{value:y,onChange:a=>z(a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-sky-500 focus:border-sky-500 text-sm",children:Object.values(h.YY).filter(a=>I||a!==h.YY.Teleconsulta).map(a=>(0,e.jsx)("option",{value:a,children:a},a))})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Dura\xe7\xe3o"}),(0,e.jsx)("div",{className:"flex gap-2",children:[30,45,60].map(a=>(0,e.jsxs)("button",{onClick:()=>B(a),className:`px-4 py-2 rounded-md border transition text-sm ${A===a?"bg-sky-500 text-white border-sky-500":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"}`,children:[a," min"]},a))})]}),!r?.seriesId&&(0,e.jsx)(m.A,{recurrenceRule:G,onChange:H}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Observa\xe7\xf5es"}),(0,e.jsx)("textarea",{value:C,onChange:a=>D(a.target.value),rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-sky-500 focus:border-sky-500 text-sm",placeholder:"Observa\xe7\xf5es sobre o atendimento..."})]})]}),(0,e.jsxs)("div",{className:"flex items-center justify-end gap-3 px-4 py-3 bg-slate-50 rounded-b-lg border-t",children:[(0,e.jsx)("button",{onClick:b,className:"px-4 py-2 text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-50 transition text-sm",children:"Cancelar"}),(0,e.jsxs)("button",{onClick:R,disabled:!w||E,className:"px-4 py-2 bg-sky-500 text-white rounded-md hover:bg-sky-600 disabled:opacity-50 disabled:cursor-not-allowed transition flex items-center text-sm",children:[(0,e.jsx)(g.eMP,{className:"w-4 h-4 mr-2"}),E?"Salvando...":"Confirmar Agendamento"]})]})]})})};d()}catch(a){d(a)}})},42227:(a,b,c)=>{c.d(b,{A:()=>e});var d=c(8732);c(82015);let e=({title:a,subtitle:b,children:c})=>(0,d.jsxs)("div",{className:"pb-8 md:flex md:items-center md:justify-between",children:[(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold leading-tight text-slate-900 tracking-tight",children:a}),(0,d.jsx)("p",{className:"mt-2 text-lg text-slate-600",children:b})]}),(0,d.jsx)("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:c})]})},68125:(a,b,c)=>{c.d(b,{n:()=>d});let d=a=>{let{recurrenceRule:b}=a;if(!b||0===b.days.length){let b={...a};return delete b.recurrenceRule,[b]}let c=a.seriesId||`series_${Date.now()}`,d=[],e=new Date(b.until);e.setHours(23,59,59,999);let f=new Date(a.startTime);f.setHours(0,0,0,0);let g=a.endTime.getTime()-a.startTime.getTime();for(;f<=e;){if(b.days.includes(f.getDay())&&f.getTime()>=new Date(a.startTime).setHours(0,0,0,0)){let b=new Date(f);b.setHours(a.startTime.getHours(),a.startTime.getMinutes());let e=new Date(b.getTime()+g);d.push({...a,id:`app_recurr_${c}_${b.getTime()}`,startTime:b,endTime:e,seriesId:c})}f.setDate(f.getDate()+1)}return d}},70033:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{a:()=>n});var e=c(8732),f=c(82015),g=c(63220),h=c(51302),i=c(71253),j=c(99597),k=c(6439),l=c(26821),m=a([g,i]);[g,i]=m.then?(await m)():m;let n=({onSelectPatient:a,selectedPatient:b})=>{let[c,d]=(0,f.useState)(""),[m,n]=(0,f.useState)([]),[o,p]=(0,f.useState)(!1),[q,r]=(0,f.useState)(!1),[s,t]=(0,f.useState)(!1),[u,v]=(0,f.useState)(!1),w=(0,f.useRef)(null),x=(0,f.useRef)(null),{showToast:y}=(0,j.dj)(),z=(0,k.d)(c,300);(0,f.useEffect)(()=>{b&&(d(b.name),r(!1))},[b]),(0,f.useEffect)(()=>{let a=a=>{w.current&&!w.current.contains(a.target)&&r(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),(0,f.useEffect)(()=>{(async()=>{if(z.length<2){n([]),t(!1),p(!1);return}p(!0);try{let a=await l.bW(z);n(a||[]),r(!0),t(0===a.length&&z.length>=3)}catch(a){y("Erro ao buscar pacientes.","error")}finally{p(!1)}})()},[z,y]);let A=async()=>{if(c&&!(c.length<3)){v(!0);try{let b=await l.OS(c.trim());a(b),d(b.name),r(!1),y(`Paciente "${b.name}" cadastrado!`,"success"),x.current&&(x.current.classList.add("animate-pulse-green"),setTimeout(()=>x.current?.classList.remove("animate-pulse-green"),1e3))}catch(a){y("Erro ao cadastrar paciente.","error")}finally{v(!1)}}};return(0,e.jsxs)("div",{className:"relative",ref:w,children:[(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("input",{ref:x,type:"text",value:c,onChange:c=>{let e=c.target.value;d(e),b&&e!==b.name&&a(null)},onFocus:()=>r(!0),placeholder:"Digite o nome ou CPF do paciente...",className:(0,i.cn)("w-full px-10 py-2 border rounded-md","focus:ring-2 focus:ring-sky-500 focus:border-transparent",b&&"border-green-500 bg-green-50")}),(0,e.jsx)(h.vji,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,e.jsxs)(g.AnimatePresence,{children:[o&&(0,e.jsx)(g.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,e.jsx)(h.krw,{className:"w-5 h-5 text-sky-500 animate-spin"})}),b&&!o&&(0,e.jsx)(g.motion.div,{initial:{scale:0},animate:{scale:1},className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,e.jsx)(h.Jlk,{className:"w-5 h-5 text-green-600"})})]})]}),(0,e.jsx)(g.AnimatePresence,{children:q&&!b&&(0,e.jsxs)(g.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute z-20 w-full mt-1 bg-white rounded-md shadow-lg border overflow-hidden max-h-60 overflow-y-auto",children:[m.length>0&&m.map(b=>(0,e.jsxs)("button",{onClick:()=>(b=>{a(b),d(b.name),r(!1),t(!1)})(b),className:"w-full px-4 py-2 hover:bg-sky-50 text-left",children:[(0,e.jsx)("p",{className:"font-medium text-gray-900",children:b.name}),(0,e.jsx)("p",{className:"text-sm text-gray-500",children:b.cpf})]},b.id)),s&&(0,e.jsx)(g.motion.button,{initial:{opacity:0},animate:{opacity:1},onClick:A,disabled:u,className:"w-full p-3 bg-green-50 hover:bg-green-100 border-t",children:(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[u?(0,e.jsx)(h.krw,{className:"w-4 h-4 text-green-600 animate-spin"}):(0,e.jsx)(h.ypN,{className:"w-4 h-4 text-green-600"}),(0,e.jsx)("p",{className:"font-semibold text-sm text-gray-900",children:u?"Cadastrando...":`Cadastrar "${c}"`})]})}),z.length>=2&&0===m.length&&!s&&!o&&(0,e.jsx)("div",{className:"p-4 text-center text-sm text-gray-500",children:"Nenhum paciente encontrado."})]})})]})};d()}catch(a){d(a)}})},71253:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{cn:()=>h});var e=c(50802),f=c(75979),g=a([e,f]);function h(...a){return(0,f.twMerge)((0,e.clsx)(a))}[e,f]=g.then?(await g)():g,d()}catch(a){d(a)}})},77590:(a,b,c)=>{c.d(b,{A:()=>e});var d=c(8732);c(82015);let e=({content:a,className:b=""})=>{if(!a)return null;let c=a=>a.split(/(\*\*\*.*?\*\*\*|\*\*.*?\*\*|\*.*?\*|`.*?`|‚úÖ|üìâ|üí™|üèÜ|‚ö†Ô∏è)/g).filter(Boolean).map((a,b)=>"‚úÖ"===a||"\uD83D\uDCC9"===a||"\uD83D\uDCAA"===a||"\uD83C\uDFC6"===a||"‚ö†Ô∏è"===a?(0,d.jsx)("span",{className:"mr-2",children:a},b):a.startsWith("***")&&a.endsWith("***")?(0,d.jsx)("strong",{children:(0,d.jsx)("em",{children:a.slice(3,-3)})},b):a.startsWith("**")&&a.endsWith("**")?(0,d.jsx)("strong",{children:a.slice(2,-2)},b):a.startsWith("*")&&a.endsWith("*")?(0,d.jsx)("em",{children:a.slice(1,-1)},b):a.startsWith("`")&&a.endsWith("`")?(0,d.jsx)("code",{className:"bg-slate-200 text-slate-800 px-1 py-0.5 rounded-sm font-mono text-xs",children:a.slice(1,-1)},b):a),e=a.split("\n"),f=[],g=[],h=null,i=()=>{if(g.length>0){let a="ol"===h?"ol":"ul";f.push((0,d.jsx)(a,{className:`pl-5 space-y-1 my-3 ${"ol"===h?"list-decimal":"list-disc"}`,children:g.map((a,b)=>(0,d.jsx)("li",{children:c(a)},b))},f.length)),g=[],h=null}};return e.forEach((a,b)=>{let e=a.trim();e.startsWith("## ")?(i(),f.push((0,d.jsx)("h2",{className:"text-xl font-bold text-slate-800 mt-4 mb-2 pb-2 border-b border-slate-200",children:c(e.substring(3))},b))):e.startsWith("### ")?(i(),f.push((0,d.jsx)("h3",{className:"text-lg font-semibold text-teal-600 my-3",children:c(e.substring(4))},b))):e.startsWith(">")?(i(),f.push((0,d.jsx)("blockquote",{className:"pl-4 italic border-l-4 border-slate-300 text-slate-600 my-2",children:c(e.substring(1))},b))):e.startsWith("---")?(i(),f.push((0,d.jsx)("hr",{className:"my-6 border-slate-200"},b))):e.startsWith("- ")?("ul"!==h&&i(),h="ul",g.push(e.substring(2).trim())):e.match(/^\d+\. /)?("ol"!==h&&i(),h="ol",g.push(e.replace(/^\d+\. /,"").trim())):e&&(i(),f.push((0,d.jsx)("p",{className:"my-1 leading-relaxed",children:c(e)},b)))}),i(),(0,d.jsx)("div",{className:`text-sm text-slate-800 font-sans max-w-none prose prose-sm prose-slate ${b}`,children:f})}},84313:(a,b,c)=>{c.d(b,{T:()=>h});var d=c(72393);let e="fisioflow_scheduling_settings",f={limits:{weekday:[{id:"wd1",startTime:"07:00",endTime:"13:00",limit:3},{id:"wd2",startTime:"13:00",endTime:"15:00",limit:1},{id:"wd3",startTime:"15:00",endTime:"21:00",limit:4}],saturday:[{id:"sat1",startTime:"07:00",endTime:"13:00",limit:3}]},maxEvaluationsPerSlot:1,teleconsultaEnabled:!1};class g{getSettings(){try{let a=localStorage.getItem(e);if(a){let b=JSON.parse(a);return{...f,...b}}}catch(a){console.error("Failed to parse scheduling settings from localStorage",a)}return f}saveSettings(a){try{a.limits.weekday.sort((a,b)=>a.startTime.localeCompare(b.startTime)),a.limits.saturday.sort((a,b)=>a.startTime.localeCompare(b.startTime)),localStorage.setItem(e,JSON.stringify(a))}catch(a){console.error("Failed to save scheduling settings to localStorage",a)}}getSlotOccupancy(a,b,c){let e=this.getSettings(),f=a.getDay(),g=a.toTimeString().slice(0,5),h=(6===f?e.limits.saturday:e.limits.weekday).find(a=>g>=a.startTime&&g<a.endTime)||{limit:0},i=b.filter(b=>(!c||b.id!==c)&&b.startTime.getTime()===a.getTime()),j=i.filter(a=>a.type===d.YY.Evaluation),k=i.length>=h.limit,l=j.length>=e.maxEvaluationsPerSlot;return{patientCount:i.length,patientLimit:h.limit,evalCount:j.length,evalLimit:e.maxEvaluationsPerSlot,isFull:0===h.limit||k,isPatientLimitFull:0===h.limit||k,isEvalLimitFull:l}}}let h=new g},99597:(a,b,c)=>{c.d(b,{dj:()=>g}),c(8732);var d=c(82015);c(54822);let e=(0,d.createContext)(void 0),f=(0,d.createContext)(void 0),g=()=>{let a=(()=>{let a=(0,d.useContext)(e);return void 0===a?{enabled:!1,logRouterChange:()=>{},logHookCall:()=>{},logContextAccess:()=>{}}:a})(),b=(0,d.useContext)(f);if(a.logContextAccess("ToastContext","useToast"),!b){let a=Error("useToast must be used within a ToastProvider");throw console.error("‚ùå Toast Context Error:",a.message),a}return{showToast:b.showToast}}}};