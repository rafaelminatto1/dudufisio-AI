"use strict";(()=>{var a={};a.id=6134,a.ids=[3220,6134],a.modules={1648:(a,b,c)=>{c.r(b),c.d(b,{config:()=>A,default:()=>w,getServerSideProps:()=>z,getStaticPaths:()=>y,getStaticProps:()=>x,handler:()=>I,reportWebVitals:()=>B,routeModule:()=>H,unstable_getServerProps:()=>F,unstable_getServerSideProps:()=>G,unstable_getStaticParams:()=>E,unstable_getStaticPaths:()=>D,unstable_getStaticProps:()=>C});var d={};c.r(d),c.d(d,{default:()=>u});var e=c(63885),f=c(80237),g=c(81413),h=c(3317),i=c.n(h),j=c(76195),k=c.n(j),l=c(8732),m=c(82015),n=c(51302),o=c(42227),p=c(4183);class q{search(a){let b=a.toLowerCase();return this.entries.find(a=>a.title.toLowerCase().includes(b)||a.content.toLowerCase().includes(b)||a.tags.some(a=>a.toLowerCase().includes(b)))||null}getAll(){return[...this.entries].sort((a,b)=>a.title.localeCompare(b.title))}add(a){let b={id:`kb_${Date.now()}`,...a};this.entries.push(b)}update(a){let b=this.entries.findIndex(b=>b.id===a.id);-1!==b&&(this.entries[b]=a)}constructor(){this.entries=p.S8}}let r=new q,s=({isOpen:a,onClose:b,onSave:c,entryToEdit:d})=>{let[e,f]=(0,m.useState)({title:"",type:"protocol",content:"",tags:""}),g=(0,m.useRef)(null);if((0,m.useEffect)(()=>{d?f({title:d.title,type:d.type,content:d.content,tags:d.tags.join(", ")}):f({title:"",type:"protocol",content:"",tags:""})},[d,a]),(0,m.useEffect)(()=>{if(!a)return;let b=a=>{if("Tab"===a.key){let b=g.current?.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!b)return;let c=b[0],d=b[b.length-1];a.shiftKey?document.activeElement===c&&(d.focus(),a.preventDefault()):document.activeElement===d&&(c.focus(),a.preventDefault())}};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[a]),!a)return null;let h=a=>{let{name:b,value:c}=a.target;f(a=>({...a,[b]:c}))},i=d?"Editar Conhecimento":"Adicionar \xe0 Base de Conhecimento";return(0,l.jsx)("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:b,children:(0,l.jsxs)("div",{ref:g,className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:a=>a.stopPropagation(),children:[(0,l.jsxs)("header",{className:"flex items-center justify-between p-5 border-b border-slate-200",children:[(0,l.jsx)("h2",{className:"text-lg font-bold text-slate-800",children:i}),(0,l.jsx)("button",{onClick:b,className:"p-2 rounded-full hover:bg-slate-100",children:(0,l.jsx)(n.X,{className:"w-5 h-5 text-slate-600"})})]}),(0,l.jsxs)("main",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"flex items-center text-sm font-medium text-slate-700 mb-1",children:"T\xedtulo"}),(0,l.jsx)("input",{type:"text",name:"title",value:e.title,onChange:h,className:"w-full p-2 border border-slate-300 rounded-lg"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"flex items-center text-sm font-medium text-slate-700 mb-1",children:[(0,l.jsx)(n.ZUJ,{className:"w-4 h-4 mr-2 text-slate-400"})," Tipo"]}),(0,l.jsxs)("select",{name:"type",value:e.type,onChange:h,className:"w-full p-2 border border-slate-300 rounded-lg bg-white",children:[(0,l.jsx)("option",{value:"protocol",children:"Protocolo"}),(0,l.jsx)("option",{value:"exercise",children:"Exerc\xedcio"}),(0,l.jsx)("option",{value:"technique",children:"T\xe9cnica"}),(0,l.jsx)("option",{value:"case",children:"Estudo de Caso"})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"flex items-center text-sm font-medium text-slate-700 mb-1",children:"Conte\xfado"}),(0,l.jsx)("textarea",{name:"content",value:e.content,onChange:h,rows:8,className:"w-full p-2 border border-slate-300 rounded-lg",placeholder:"Descreva o protocolo, t\xe9cnica ou exerc\xedcio em detalhes..."})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"flex items-center text-sm font-medium text-slate-700 mb-1",children:[(0,l.jsx)(n.vwO,{className:"w-4 h-4 mr-2 text-slate-400"})," Tags"]}),(0,l.jsx)("input",{type:"text",name:"tags",value:e.tags,onChange:h,className:"w-full p-2 border border-slate-300 rounded-lg",placeholder:"Ex: lca, joelho, p\xf3s-operat\xf3rio"}),(0,l.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Separe as tags por v\xedrgula."})]})]}),(0,l.jsxs)("footer",{className:"flex justify-end items-center p-4 border-t border-slate-200 bg-slate-50 rounded-b-2xl",children:[(0,l.jsx)("button",{onClick:b,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 mr-2",children:"Cancelar"}),(0,l.jsxs)("button",{onClick:()=>{if(!e.title||!e.content)return void alert("T\xedtulo e Conte\xfado s\xe3o obrigat\xf3rios.");let a=e.tags.split(",").map(a=>a.trim()).filter(Boolean);c({title:e.title,type:e.type,content:e.content,tags:a})},className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 border border-transparent rounded-lg hover:bg-teal-600 flex items-center",children:[(0,l.jsx)(n.eMP,{className:"w-4 h-4 mr-2"}),"Salvar"]})]})]})})},t=({entry:a,onEdit:b})=>{let c={protocol:{icon:n.WuS,color:"bg-blue-100 text-blue-800"},exercise:{icon:n.h9F,color:"bg-green-100 text-green-800"},technique:{icon:n.s6t,color:"bg-purple-100 text-purple-800"},case:{icon:n.HT$,color:"bg-yellow-100 text-yellow-800"}},d=c[a.type].icon;return(0,l.jsxs)("tr",{className:"border-b border-slate-200 hover:bg-slate-50 cursor-pointer",onClick:()=>b(a),children:[(0,l.jsx)("td",{className:"p-4 whitespace-nowrap",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:`p-2 rounded-full mr-4 ${c[a.type].color}`,children:(0,l.jsx)(d,{className:"w-5 h-5"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm font-medium text-slate-900",children:a.title}),(0,l.jsx)("div",{className:"text-sm text-slate-500 capitalize",children:a.type})]})]})}),(0,l.jsx)("td",{className:"p-4 text-sm text-slate-600 max-w-md truncate",title:a.content,children:a.content}),(0,l.jsx)("td",{className:"p-4 whitespace-nowrap",children:(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:a.tags.map(a=>(0,l.jsx)("span",{className:"px-2 py-0.5 text-xs bg-slate-200 text-slate-700 rounded-full",children:a},a))})})]})},u=()=>{let[a,b]=(0,m.useState)(""),[c,d]=(0,m.useState)(r.getAll()),[e,f]=(0,m.useState)(!1),[g,h]=(0,m.useState)(void 0),i=(0,m.useMemo)(()=>c.filter(b=>b.title.toLowerCase().includes(a.toLowerCase())||b.content.toLowerCase().includes(a.toLowerCase())||b.tags.some(b=>b.toLowerCase().includes(a.toLowerCase()))),[a,c]),j=a=>{h(a),f(!0)},k=()=>{f(!1),h(void 0)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.A,{title:"Base de Conhecimento",subtitle:"Gerencie o c\xe9rebro da sua cl\xednica: protocolos, exerc\xedcios e t\xe9cnicas.",children:(0,l.jsxs)("button",{onClick:()=>j(),className:"inline-flex items-center justify-center rounded-lg border border-transparent bg-teal-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-teal-600 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2",children:[(0,l.jsx)(n.FWt,{className:"-ml-1 mr-2 h-5 w-5"}),"Adicionar Conhecimento"]})}),(0,l.jsx)(s,{isOpen:e,onClose:k,onSave:a=>{g?r.update({...a,id:g.id}):r.add(a),d(r.getAll()),k()},entryToEdit:g}),(0,l.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm",children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,l.jsxs)("div",{className:"relative w-full max-w-xs",children:[(0,l.jsx)(n.vji,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,l.jsx)("input",{type:"text",placeholder:"Buscar por t\xedtulo, conte\xfado ou tag...",value:a,onChange:a=>b(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500"})]})}),(0,l.jsxs)("div",{className:"overflow-x-auto",children:[(0,l.jsxs)("table",{className:"min-w-full divide-y divide-slate-200",children:[(0,l.jsx)("thead",{className:"bg-slate-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{scope:"col",className:"p-4 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"T\xedtulo"}),(0,l.jsx)("th",{scope:"col",className:"p-4 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Conte\xfado (Pr\xe9via)"}),(0,l.jsx)("th",{scope:"col",className:"p-4 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Tags"})]})}),(0,l.jsx)("tbody",{className:"bg-white divide-y divide-slate-200",children:i.map(a=>(0,l.jsx)(t,{entry:a,onEdit:j},a.id))})]}),0===i.length&&(0,l.jsxs)("div",{className:"text-center p-10",children:[(0,l.jsx)(n.wpD,{className:"mx-auto h-12 w-12 text-slate-300"}),(0,l.jsx)("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"Nenhum conhecimento encontrado"}),(0,l.jsx)("p",{className:"mt-1 text-sm text-slate-500",children:"Tente ajustar sua busca ou adicione um novo conhecimento."})]})]})]})]})};var v=c(12289);let w=(0,g.M)(d,"default"),x=(0,g.M)(d,"getStaticProps"),y=(0,g.M)(d,"getStaticPaths"),z=(0,g.M)(d,"getServerSideProps"),A=(0,g.M)(d,"config"),B=(0,g.M)(d,"reportWebVitals"),C=(0,g.M)(d,"unstable_getStaticProps"),D=(0,g.M)(d,"unstable_getStaticPaths"),E=(0,g.M)(d,"unstable_getStaticParams"),F=(0,g.M)(d,"unstable_getServerProps"),G=(0,g.M)(d,"unstable_getServerSideProps"),H=new e.PagesRouteModule({definition:{kind:f.RouteKind.PAGES,page:"/KnowledgeBasePage",pathname:"/KnowledgeBasePage",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:k(),Document:i()},userland:d}),I=(0,v.U)({srcPage:"/KnowledgeBasePage",config:A,userland:d,routeModule:H,getStaticPaths:y,getStaticProps:x,getServerSideProps:z})},8732:a=>{a.exports=require("react/jsx-runtime")},33873:a=>{a.exports=require("path")},40361:a=>{a.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},42227:(a,b,c)=>{c.d(b,{A:()=>e});var d=c(8732);c(82015);let e=({title:a,subtitle:b,children:c})=>(0,d.jsxs)("div",{className:"pb-8 md:flex md:items-center md:justify-between",children:[(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold leading-tight text-slate-900 tracking-tight",children:a}),(0,d.jsx)("p",{className:"mt-2 text-lg text-slate-600",children:b})]}),(0,d.jsx)("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:c})]})},46060:a=>{a.exports=require("next/dist/shared/lib/no-fallback-error.external.js")},56472:a=>{a.exports=require("@opentelemetry/api")},82015:a=>{a.exports=require("react")}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[3317,9871,1302,4183],()=>b(b.s=1648));module.exports=c})();