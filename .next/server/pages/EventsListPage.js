"use strict";(()=>{var a={};a.id=9498,a.ids=[3220,9498],a.modules={8732:a=>{a.exports=require("react/jsx-runtime")},19119:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{E:()=>h});var e=c(8732),f=c(71253),g=a([f]);function h({className:a,...b}){return(0,e.jsx)("div",{className:(0,f.cn)("animate-pulse rounded-md bg-muted",a),...b})}f=(g.then?(await g)():g)[0],d()}catch(a){d(a)}})},22871:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{default:()=>q});var e=c(8732),f=c(82015),g=c(51302),h=c(42227),i=c(72393),j=c(40396),k=c(99597),l=c(19119),m=c(41741),n=c(51258),o=c(28471),p=a([l]);l=(p.then?(await p)():p)[0];let q=()=>{let[a,b]=(0,f.useState)([]),[c,d]=(0,f.useState)(!0),[p,q]=(0,f.useState)(""),[r,s]=(0,f.useState)("All"),[t,u]=(0,f.useState)(!1),[v,w]=(0,f.useState)(),{showToast:x}=(0,k.dj)(),{user:y}=(0,o.As)(),z=async()=>{d(!0);try{let a=await j.g.getEvents();b(a)}catch(a){x("Erro ao carregar eventos.","error")}finally{d(!1)}};(0,f.useEffect)(()=>(z(),j.g.on("events:changed",z),()=>{j.g.off("events:changed",z)}),[]);let{upcomingEvents:A,pastEvents:B}=(0,f.useMemo)(()=>{let b=new Date,c=a.filter(a=>{let b=a.name.toLowerCase().includes(p.toLowerCase()),c="All"===r||a.status===r;return b&&c});return{upcomingEvents:c.filter(a=>a.endDate>=b).sort((a,b)=>a.startDate.getTime()-b.startDate.getTime()),pastEvents:c.filter(a=>a.endDate<b)}},[a,p,r]),C=a=>{w(a),u(!0)},D=async a=>{if(y)try{await j.g.saveEvent(a,y.id),x(a.id?"Evento atualizado!":"Evento criado!","success"),u(!1)}catch(a){x("Falha ao salvar o evento.","error")}},E=({value:a,label:b})=>(0,e.jsx)("button",{onClick:()=>s(a),className:`px-4 py-2 text-sm font-semibold rounded-full transition-colors ${r===a?"bg-teal-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:b});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(h.A,{title:"Gest\xe3o de Eventos",subtitle:"Crie e gerencie corridas, workshops e campanhas de sa\xfade.",children:(0,e.jsxs)("button",{onClick:()=>C(),className:"inline-flex items-center justify-center rounded-lg border border-transparent bg-teal-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-teal-600",children:[(0,e.jsx)(g.FWt,{className:"-ml-1 mr-2 h-5 w-5"}),"Novo Evento"]})}),(0,e.jsx)(n.A,{isOpen:t,onClose:()=>u(!1),onSave:D,eventToEdit:v}),(0,e.jsxs)("div",{className:"mb-6 bg-white p-4 rounded-2xl shadow-sm flex flex-col sm:flex-row items-center gap-4",children:[(0,e.jsxs)("div",{className:"relative flex-grow w-full sm:w-auto",children:[(0,e.jsx)(g.vji,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,e.jsx)("input",{type:"text",placeholder:"Buscar por nome do evento...",value:p,onChange:a=>q(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-full"})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,e.jsx)(E,{value:"All",label:"Todos"}),(0,e.jsx)(E,{value:i.fb.Published,label:"Publicados"}),(0,e.jsx)(E,{value:i.fb.Active,label:"Ativos"}),(0,e.jsx)(E,{value:i.fb.Completed,label:"Conclu\xeddos"})]})]}),c?(0,e.jsx)(l.E,{className:"h-96 w-full rounded-2xl"}):(0,e.jsxs)("div",{className:"space-y-10",children:[(0,e.jsxs)("section",{children:[(0,e.jsx)("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Pr\xf3ximos Eventos"}),A.length>0?(0,e.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(a=>(0,e.jsx)(m.A,{event:a,onEdit:()=>C(a)},a.id))}):(0,e.jsxs)("div",{className:"text-center p-12 bg-white rounded-2xl shadow-sm",children:[(0,e.jsx)(g.RgA,{className:"w-12 h-12 mx-auto text-slate-300 mb-2"}),(0,e.jsx)("h3",{className:"text-lg font-semibold text-slate-700",children:"Nenhum pr\xf3ximo evento agendado."}),(0,e.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:'Que tal planejar o pr\xf3ximo? Clique em "Novo Evento" para come\xe7ar.'})]})]}),(0,e.jsxs)("section",{children:[(0,e.jsx)("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Eventos Anteriores"}),B.length>0?(0,e.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map(a=>(0,e.jsx)(m.A,{event:a,onEdit:()=>C(a)},a.id))}):(0,e.jsxs)("div",{className:"text-center p-12 bg-white rounded-2xl shadow-sm",children:[(0,e.jsx)(g.Tde,{className:"w-12 h-12 mx-auto text-slate-300 mb-2"}),(0,e.jsx)("h3",{className:"text-lg font-semibold text-slate-700",children:"Seu hist\xf3rico de eventos est\xe1 vazio."}),(0,e.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Os eventos que voc\xea realizar aparecer\xe3o aqui."})]})]})]})]})};d()}catch(a){d(a)}})},33873:a=>{a.exports=require("path")},40361:a=>{a.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},41741:(a,b,c)=>{c.d(b,{A:()=>i});var d=c(8732);c(82015);var e=c(72393),f=c(51302),g=c(54822);let h={[e.fb.Draft]:{text:"text-slate-700",bg:"bg-slate-100",dot:"bg-slate-400"},[e.fb.Published]:{text:"text-blue-700",bg:"bg-blue-100",dot:"bg-blue-400"},[e.fb.Active]:{text:"text-green-700",bg:"bg-green-100",dot:"bg-green-400"},[e.fb.Completed]:{text:"text-gray-700",bg:"bg-gray-200",dot:"bg-gray-500"},[e.fb.Cancelled]:{text:"text-red-700",bg:"bg-red-100",dot:"bg-red-400"}},i=({event:a,onEdit:b})=>{let{text:c,bg:e,dot:i}=h[a.status],j=a.registrations?.length||0,k=(0,g.useNavigate)(),l=a.capacity&&a.capacity>0?j/a.capacity*100:0,m="bg-green-500";l>90?m="bg-red-500":l>70&&(m="bg-yellow-500");let n=a.startDate.toLocaleString("pt-BR",{month:"short"}).toUpperCase().replace(".",""),o=a.startDate.getDate();return(0,d.jsxs)("div",{onClick:()=>{k(`/events/${a.id}`)},className:"bg-white rounded-2xl shadow-sm hover:shadow-lg transition-shadow duration-300 flex flex-col group overflow-hidden cursor-pointer",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("img",{src:a.bannerUrl||"https://images.unsplash.com/photo-1511795409834-ef04bbd61622?q=80&w=1470",alt:a.name,className:"h-40 w-full object-cover"}),(0,d.jsx)("div",{className:"absolute top-3 right-3",children:(0,d.jsxs)("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${e} ${c} shadow`,children:[(0,d.jsx)("span",{className:`w-2 h-2 mr-2 rounded-full ${i}`}),a.status]})})]}),(0,d.jsxs)("div",{className:"p-4 flex flex-col flex-grow",children:[(0,d.jsxs)("div",{className:"flex items-start gap-4",children:[(0,d.jsxs)("div",{className:"flex-shrink-0 text-center bg-slate-50 border rounded-md p-2 w-16",children:[(0,d.jsx)("p",{className:"text-xs font-bold text-red-500",children:n}),(0,d.jsx)("p",{className:"text-2xl font-bold text-slate-800",children:o})]}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"text-sm font-semibold text-teal-600 -mt-1",children:a.eventType}),(0,d.jsx)("h3",{className:"text-lg font-bold text-slate-800 leading-tight",children:a.name}),(0,d.jsxs)("div",{className:"flex items-start text-sm text-slate-600 mt-1",children:[(0,d.jsx)(f.sDd,{className:"w-4 h-4 mr-2 mt-0.5 shrink-0"}),(0,d.jsx)("span",{children:a.location})]})]})]}),(0,d.jsxs)("div",{className:"mt-4",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center text-xs text-slate-500 mb-1",children:[(0,d.jsxs)("span",{className:"font-semibold flex items-center",children:[(0,d.jsx)(f.zWC,{size:14,className:"mr-1.5"})," Vagas"]}),(0,d.jsxs)("span",{children:[j," / ",a.capacity||"âˆž"]})]}),a.capacity&&(0,d.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2",children:(0,d.jsx)("div",{className:`h-2 rounded-full ${m}`,style:{width:`${l}%`}})})]})]}),(0,d.jsx)("div",{className:"border-t p-2 flex justify-end",children:(0,d.jsx)("button",{onClick:a=>{a.stopPropagation(),b()},className:"p-2 rounded-full text-slate-400 hover:bg-slate-100 group-hover:opacity-100 opacity-0 transition-opacity",children:(0,d.jsx)(f.ffu,{className:"w-4 h-4"})})})]})}},42227:(a,b,c)=>{c.d(b,{A:()=>e});var d=c(8732);c(82015);let e=({title:a,subtitle:b,children:c})=>(0,d.jsxs)("div",{className:"pb-8 md:flex md:items-center md:justify-between",children:[(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold leading-tight text-slate-900 tracking-tight",children:a}),(0,d.jsx)("p",{className:"mt-2 text-lg text-slate-600",children:b})]}),(0,d.jsx)("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:c})]})},46060:a=>{a.exports=require("next/dist/shared/lib/no-fallback-error.external.js")},50802:a=>{a.exports=import("clsx")},54822:a=>{a.exports=require("react-router-dom")},56472:a=>{a.exports=require("@opentelemetry/api")},71253:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{cn:()=>h});var e=c(50802),f=c(75979),g=a([e,f]);function h(...a){return(0,f.twMerge)((0,e.clsx)(a))}[e,f]=g.then?(await g)():g,d()}catch(a){d(a)}})},75979:a=>{a.exports=import("tailwind-merge")},79625:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{config:()=>s,default:()=>o,getServerSideProps:()=>r,getStaticPaths:()=>q,getStaticProps:()=>p,handler:()=>A,reportWebVitals:()=>t,routeModule:()=>z,unstable_getServerProps:()=>x,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>w,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>u});var e=c(63885),f=c(80237),g=c(81413),h=c(3317),i=c.n(h),j=c(76195),k=c.n(j),l=c(22871),m=c(12289),n=a([l]);l=(n.then?(await n)():n)[0];let o=(0,g.M)(l,"default"),p=(0,g.M)(l,"getStaticProps"),q=(0,g.M)(l,"getStaticPaths"),r=(0,g.M)(l,"getServerSideProps"),s=(0,g.M)(l,"config"),t=(0,g.M)(l,"reportWebVitals"),u=(0,g.M)(l,"unstable_getStaticProps"),v=(0,g.M)(l,"unstable_getStaticPaths"),w=(0,g.M)(l,"unstable_getStaticParams"),x=(0,g.M)(l,"unstable_getServerProps"),y=(0,g.M)(l,"unstable_getServerSideProps"),z=new e.PagesRouteModule({definition:{kind:f.RouteKind.PAGES,page:"/EventsListPage",pathname:"/EventsListPage",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:k(),Document:i()},userland:l}),A=(0,m.U)({srcPage:"/EventsListPage",config:s,userland:l,routeModule:z,getStaticPaths:q,getStaticProps:p,getServerSideProps:r});d()}catch(a){d(a)}})},82015:a=>{a.exports=require("react")},93939:a=>{a.exports=require("@supabase/supabase-js")}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[3317,9871,1302,4183,7367,8471,2376],()=>b(b.s=79625));module.exports=c})();