"use strict";(()=>{var a={};a.id=5302,a.ids=[3220,5302],a.modules={8:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{p:()=>i});var e=c(8732),f=c(82015),g=c(71253),h=a([g]);g=(h.then?(await h)():h)[0];let i=f.forwardRef(({className:a,type:b,...c},d)=>(0,e.jsx)("input",{type:b,className:(0,g.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:d,...c}));i.displayName="Input",d()}catch(a){d(a)}})},8732:a=>{a.exports=require("react/jsx-runtime")},8938:a=>{a.exports=import("class-variance-authority")},9640:a=>{a.exports=import("@radix-ui/react-slot")},33873:a=>{a.exports=require("path")},33918:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{Fc:()=>k,TN:()=>l});var e=c(8732),f=c(82015),g=c(8938),h=c(71253),i=a([g,h]);[g,h]=i.then?(await i)():i;let j=(0,g.cva)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-red-200 bg-red-50 text-red-800 [&>svg]:text-red-600",warning:"border-yellow-200 bg-yellow-50 text-yellow-800 [&>svg]:text-yellow-600",success:"border-green-200 bg-green-50 text-green-800 [&>svg]:text-green-600"}},defaultVariants:{variant:"default"}}),k=f.forwardRef(({className:a,variant:b,...c},d)=>(0,e.jsx)("div",{ref:d,role:"alert",className:(0,h.cn)(j({variant:b}),a),...c}));k.displayName="Alert",f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("h5",{ref:c,className:(0,h.cn)("mb-1 font-medium leading-none tracking-tight",a),...b})).displayName="AlertTitle";let l=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("div",{ref:c,className:(0,h.cn)("text-sm [&_p]:leading-relaxed",a),...b}));l.displayName="AlertDescription",d()}catch(a){d(a)}})},40361:a=>{a.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},46060:a=>{a.exports=require("next/dist/shared/lib/no-fallback-error.external.js")},50802:a=>{a.exports=import("clsx")},56472:a=>{a.exports=require("@opentelemetry/api")},61975:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{config:()=>s,default:()=>o,getServerSideProps:()=>r,getStaticPaths:()=>q,getStaticProps:()=>p,handler:()=>A,reportWebVitals:()=>t,routeModule:()=>z,unstable_getServerProps:()=>x,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>w,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>u});var e=c(63885),f=c(80237),g=c(81413),h=c(3317),i=c.n(h),j=c(76195),k=c.n(j),l=c(79189),m=c(12289),n=a([l]);l=(n.then?(await n)():n)[0];let o=(0,g.M)(l,"default"),p=(0,g.M)(l,"getStaticProps"),q=(0,g.M)(l,"getStaticPaths"),r=(0,g.M)(l,"getServerSideProps"),s=(0,g.M)(l,"config"),t=(0,g.M)(l,"reportWebVitals"),u=(0,g.M)(l,"unstable_getStaticProps"),v=(0,g.M)(l,"unstable_getStaticPaths"),w=(0,g.M)(l,"unstable_getStaticParams"),x=(0,g.M)(l,"unstable_getServerProps"),y=(0,g.M)(l,"unstable_getServerSideProps"),z=new e.PagesRouteModule({definition:{kind:f.RouteKind.PAGES,page:"/auth/TwoFactorSetupPage",pathname:"/auth/TwoFactorSetupPage",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:k(),Document:i()},userland:l}),A=(0,m.U)({srcPage:"/auth/TwoFactorSetupPage",config:s,userland:l,routeModule:z,getStaticPaths:q,getStaticProps:p,getServerSideProps:r});d()}catch(a){d(a)}})},63814:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{BT:()=>l,Wu:()=>m,ZB:()=>k,Zp:()=>i,aR:()=>j,wL:()=>n});var e=c(8732),f=c(82015),g=c(71253),h=a([g]);g=(h.then?(await h)():h)[0];let i=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("div",{ref:c,className:(0,g.cn)("rounded-lg border bg-white text-gray-900 shadow-sm",a),...b}));i.displayName="Card";let j=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("div",{ref:c,className:(0,g.cn)("flex flex-col space-y-1.5 p-6",a),...b}));j.displayName="CardHeader";let k=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("h3",{ref:c,className:(0,g.cn)("text-2xl font-semibold leading-none tracking-tight",a),...b}));k.displayName="CardTitle";let l=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("p",{ref:c,className:(0,g.cn)("text-sm text-gray-600",a),...b}));l.displayName="CardDescription";let m=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("div",{ref:c,className:(0,g.cn)("p-6 pt-0",a),...b}));m.displayName="CardContent";let n=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("div",{ref:c,className:(0,g.cn)("flex items-center p-6 pt-0",a),...b}));n.displayName="CardFooter",d()}catch(a){d(a)}})},71253:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{cn:()=>h});var e=c(50802),f=c(75979),g=a([e,f]);function h(...a){return(0,f.twMerge)((0,e.clsx)(a))}[e,f]=g.then?(await g)():g,d()}catch(a){d(a)}})},72393:(a,b,c)=>{c.d(b,{Bx:()=>r,D_:()=>l,Ks:()=>i,Kw:()=>o,Lc:()=>m,UB:()=>p,W6:()=>k,WW:()=>e,Xh:()=>d,YY:()=>g,aJ:()=>u,e1:()=>j,fb:()=>s,m7:()=>t,pn:()=>n,q1:()=>h,tv:()=>q,y2:()=>f});var d=function(a){return a.Admin="Admin",a.Therapist="Fisioterapeuta",a.Patient="Paciente",a.EducadorFisico="EducadorFisico",a}({}),e=function(a){return a.Active="Active",a.Inactive="Inactive",a.Discharged="Discharged",a}({}),f=function(a){return a.Scheduled="Agendado",a.Completed="Realizado",a.Canceled="Cancelado",a.NoShow="Faltou",a}({}),g=function(a){return a.Evaluation="Avalia\xe7\xe3o",a.Session="Sess\xe3o",a.Return="Retorno",a.Pilates="Pilates",a.Urgent="Urgente",a.Teleconsulta="Teleconsulta",a}({});let h={Avaliação:"purple",Sessão:"emerald",Retorno:"blue",Pilates:"amber",Urgente:"red",Teleconsulta:"cyan"};var i=function(a){return a.Active="Ativo",a.Concluded="Conclu\xeddo",a.Paused="Pausado",a}({}),j=function(a){return a.ToDo="A Fazer",a.InProgress="Em Andamento",a.Done="Conclu\xeddo",a}({}),k=function(a){return a.High="Alta",a.Medium="M\xe9dia",a.Low="Baixa",a}({}),l=function(a){return a.Receita="Receita",a.Despesa="Despesa",a}({}),m=function(a){return a.Aluguel="Aluguel",a.Salarios="Sal\xe1rios",a.Marketing="Marketing",a.Suprimentos="Suprimentos",a.Equipamentos="Equipamentos",a.Impostos="Impostos",a.Outros="Outros",a}({}),n=function(a){return a.Active="Ativo",a.Inactive="Inativo",a}({}),o=function(a){return a.Active="Ativo",a.OutOfStock="Sem Estoque",a.Discontinued="Descontinuado",a}({}),p=function(a){return a.In="Entrada",a.Out="Sa\xedda",a}({}),q=function(a){return a.LowStock="Estoque Baixo",a.OutOfStock="Sem Estoque",a.Expiring="Vencimento Pr\xf3ximo",a.Expired="Vencido",a}({}),r=function(a){return a.Corrida="Corrida de Rua",a.Workshop="Workshop",a.Palestra="Palestra",a.Campanha="Campanha de Sa\xfade",a.Atendimento="Atendimento Externo",a}({}),s=function(a){return a.Draft="Rascunho",a.Published="Publicado",a.Active="Ativo",a.Completed="Conclu\xeddo",a.Cancelled="Cancelado",a}({}),t=function(a){return a.Pending="Pendente",a.Confirmed="Confirmado",a.Attended="Compareceu",a.Cancelled="Cancelado",a}({}),u=function(a){return a.Applied="Inscrito",a.Confirmed="Confirmado",a.Paid="Pago",a.Cancelled="Cancelado",a}({})},75979:a=>{a.exports=import("tailwind-merge")},79189:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{default:()=>n});var e=c(8732),f=c(82015),g=c(51302),h=c(17367),i=c(99612),j=c(8),k=c(63814),l=c(33918),m=a([i,j,k,l]);[i,j,k,l]=m.then?(await m)():m;let n=({onComplete:a,onBack:b})=>{let{setup2FA:c,verify2FA:d,error:m,clearError:n}=(0,h.W6)(),[o,p]=(0,f.useState)("setup"),[q,r]=(0,f.useState)(""),[s,t]=(0,f.useState)(""),[u,v]=(0,f.useState)([]),[w,x]=(0,f.useState)(""),[y,z]=(0,f.useState)(""),[A,B]=(0,f.useState)(!1),[C,D]=(0,f.useState)(!1),E=async()=>{B(!0),n();try{let a=await c();r(a.qrCode),t(a.secret),v(a.backupCodes),p("verify")}catch(a){console.error("2FA setup error:",a)}finally{B(!1)}},F=async()=>{if(w&&6===w.length){B(!0),n();try{await d(y,w),p("complete")}catch(a){console.error("2FA verification error:",a)}finally{B(!1)}}},G=async()=>{try{await navigator.clipboard.writeText(s),D(!0),setTimeout(()=>D(!1),2e3)}catch(a){console.error("Failed to copy secret:",a)}};return(0,e.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",children:(0,e.jsxs)("div",{className:"w-full max-w-md space-y-6",children:[(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,e.jsx)("div",{className:"bg-white p-3 rounded-full shadow-lg",children:(0,e.jsx)(g.ekZ,{className:"w-8 h-8 text-indigo-600"})})}),(0,e.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Configurar Autentica\xe7\xe3o de Dois Fatores"}),(0,e.jsx)("p",{className:"text-gray-600 mt-2",children:"Adicione uma camada extra de seguran\xe7a \xe0 sua conta"})]}),m&&(0,e.jsxs)(l.Fc,{variant:"destructive",children:[(0,e.jsx)(g.hcu,{className:"h-4 w-4"}),(0,e.jsx)(l.TN,{children:m})]}),"setup"===o&&(0,e.jsxs)(k.Zp,{className:"shadow-xl border-0",children:[(0,e.jsxs)(k.aR,{children:[(0,e.jsxs)(k.ZB,{className:"flex items-center",children:[(0,e.jsx)(g.wO7,{className:"w-5 h-5 mr-2"}),"Configurar 2FA"]}),(0,e.jsx)(k.BT,{children:"Use um aplicativo autenticador para gerar c\xf3digos de seguran\xe7a"})]}),(0,e.jsx)(k.Wu,{className:"space-y-4",children:(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,e.jsx)("h3",{className:"font-medium text-blue-900 mb-2",children:"Aplicativos Recomendados:"}),(0,e.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,e.jsx)("li",{children:"• Google Authenticator"}),(0,e.jsx)("li",{children:"• Microsoft Authenticator"}),(0,e.jsx)("li",{children:"• Authy"}),(0,e.jsx)("li",{children:"• 1Password"})]})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)("h3",{className:"font-medium text-gray-900",children:"Como configurar:"}),(0,e.jsxs)("ol",{className:"text-sm text-gray-600 space-y-1 pl-4",children:[(0,e.jsx)("li",{children:"1. Instale um aplicativo autenticador"}),(0,e.jsx)("li",{children:'2. Clique em "Configurar" abaixo'}),(0,e.jsx)("li",{children:"3. Escaneie o c\xf3digo QR com o app"}),(0,e.jsx)("li",{children:"4. Digite o c\xf3digo de 6 d\xedgitos para verificar"})]})]}),(0,e.jsx)(i.$,{onClick:E,className:"w-full",disabled:A,children:A?"Configurando...":"Configurar 2FA"})]})})]}),"verify"===o&&(0,e.jsxs)(k.Zp,{className:"shadow-xl border-0",children:[(0,e.jsxs)(k.aR,{children:[(0,e.jsx)(k.ZB,{children:"Verificar Configura\xe7\xe3o"}),(0,e.jsx)(k.BT,{children:"Escaneie o c\xf3digo QR e digite o c\xf3digo de verifica\xe7\xe3o"})]}),(0,e.jsxs)(k.Wu,{className:"space-y-4",children:[q&&(0,e.jsx)("div",{className:"text-center",children:(0,e.jsx)("div",{className:"bg-white p-4 rounded-lg border-2 border-gray-200 inline-block",children:(0,e.jsx)("img",{src:q,alt:"QR Code para 2FA",className:"w-48 h-48"})})}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Ou digite manualmente:"}),(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)(j.p,{value:s,readOnly:!0,className:"font-mono text-xs"}),(0,e.jsx)(i.$,{type:"button",variant:"outline",size:"icon",onClick:G,children:C?(0,e.jsx)(g.rAV,{className:"h-4 w-4 text-green-600"}):(0,e.jsx)(g.QRo,{className:"h-4 w-4"})})]})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)("label",{htmlFor:"verification-code",className:"text-sm font-medium text-gray-700",children:"C\xf3digo de Verifica\xe7\xe3o"}),(0,e.jsx)(j.p,{id:"verification-code",type:"text",value:w,onChange:a=>x(a.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",className:"text-center text-lg font-mono tracking-widest",maxLength:6})]}),(0,e.jsxs)("div",{className:"flex space-x-3",children:[(0,e.jsxs)(i.$,{type:"button",variant:"outline",onClick:()=>p("setup"),className:"flex-1",children:[(0,e.jsx)(g.nkM,{className:"w-4 h-4 mr-2"}),"Voltar"]}),(0,e.jsx)(i.$,{onClick:F,disabled:6!==w.length||A,className:"flex-1",children:A?"Verificando...":"Verificar"})]})]})]}),"complete"===o&&(0,e.jsxs)(k.Zp,{className:"shadow-xl border-0",children:[(0,e.jsxs)(k.aR,{children:[(0,e.jsxs)(k.ZB,{className:"flex items-center text-green-600",children:[(0,e.jsx)(g.rAV,{className:"w-5 h-5 mr-2"}),"2FA Configurado com Sucesso!"]}),(0,e.jsx)(k.BT,{children:"Sua conta agora est\xe1 protegida com autentica\xe7\xe3o de dois fatores"})]}),(0,e.jsxs)(k.Wu,{className:"space-y-4",children:[u.length>0&&(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("h3",{className:"font-medium text-gray-900",children:"C\xf3digos de Backup"}),(0,e.jsxs)(i.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{let a=u.join("\n"),b=new Blob([a],{type:"text/plain"}),c=URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download="backup-codes.txt",d.click(),URL.revokeObjectURL(c)},children:[(0,e.jsx)(g.f5X,{className:"w-4 h-4 mr-2"}),"Baixar"]})]}),(0,e.jsxs)(l.Fc,{variant:"warning",children:[(0,e.jsx)(g.Uzy,{className:"h-4 w-4"}),(0,e.jsx)(l.TN,{children:"Guarde estes c\xf3digos em local seguro. Voc\xea pode us\xe1-los para acessar sua conta se perder acesso ao aplicativo autenticador."})]}),(0,e.jsx)("div",{className:"bg-gray-50 p-3 rounded-lg",children:(0,e.jsx)("div",{className:"grid grid-cols-2 gap-2 text-sm font-mono",children:u.map((a,b)=>(0,e.jsx)("div",{className:"p-2 bg-white rounded border",children:a},b))})})]}),(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsxs)(l.Fc,{variant:"success",children:[(0,e.jsx)(g.rAV,{className:"h-4 w-4"}),(0,e.jsx)(l.TN,{children:"A partir de agora, voc\xea precisar\xe1 do c\xf3digo do seu aplicativo autenticador para fazer login."})]}),(0,e.jsx)(i.$,{onClick:a,className:"w-full",children:"Continuar para o Dashboard"})]})]})]}),"setup"===o&&b&&(0,e.jsxs)(i.$,{type:"button",variant:"ghost",onClick:b,className:"w-full",children:[(0,e.jsx)(g.nkM,{className:"w-4 h-4 mr-2"}),"Voltar para Login"]})]})})};d()}catch(a){d(a)}})},82015:a=>{a.exports=require("react")},93939:a=>{a.exports=require("@supabase/supabase-js")},99612:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{$:()=>l});var e=c(8732),f=c(82015),g=c(9640),h=c(8938),i=c(71253),j=a([g,h,i]);[g,h,i]=j.then?(await j)():j;let k=(0,h.cva)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-indigo-600 text-white hover:bg-indigo-700",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=f.forwardRef(({className:a,variant:b,size:c,asChild:d=!1,...f},h)=>{let j=d?g.Slot:"button";return(0,e.jsx)(j,{className:(0,i.cn)(k({variant:b,size:c,className:a})),ref:h,...f})});l.displayName="Button",d()}catch(a){d(a)}})}};var b=require("../../webpack-runtime.js");b.C(a);var c=b.X(0,[3317,9871,1302,7367],()=>b(b.s=61975));module.exports=c})();