"use strict";(()=>{var a={};a.id=3903,a.ids=[3220,3903],a.modules={5181:(a,b,c)=>{c.d(b,{AV:()=>j,Ms:()=>m,VF:()=>i,_z:()=>d,gl:()=>k,mt:()=>g,n8:()=>e,oP:()=>f,rW:()=>h,vm:()=>l});let d=()=>Promise.resolve({treatmentGoals:[],exercises:[]}),e=()=>Promise.resolve(""),f=()=>Promise.resolve(""),g=()=>Promise.resolve(""),h=()=>Promise.resolve(""),i=()=>Promise.resolve(""),j=()=>Promise.resolve(""),k=()=>Promise.resolve(""),l=()=>Promise.resolve(""),m=()=>Promise.resolve("")},8732:a=>{a.exports=require("react/jsx-runtime")},19119:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{E:()=>h});var e=c(8732),f=c(71253),g=a([f]);function h({className:a,...b}){return(0,e.jsx)("div",{className:(0,f.cn)("animate-pulse rounded-md bg-muted",a),...b})}f=(g.then?(await g)():g)[0],d()}catch(a){d(a)}})},33873:a=>{a.exports=require("path")},40361:a=>{a.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},42227:(a,b,c)=>{c.d(b,{A:()=>e});var d=c(8732);c(82015);let e=({title:a,subtitle:b,children:c})=>(0,d.jsxs)("div",{className:"pb-8 md:flex md:items-center md:justify-between",children:[(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold leading-tight text-slate-900 tracking-tight",children:a}),(0,d.jsx)("p",{className:"mt-2 text-lg text-slate-600",children:b})]}),(0,d.jsx)("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:c})]})},46060:a=>{a.exports=require("next/dist/shared/lib/no-fallback-error.external.js")},50802:a=>{a.exports=import("clsx")},51732:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{default:()=>m});var e=c(8732),f=c(82015),g=c(5181),h=c(42227),i=c(51302),j=c(99597),k=c(19119),l=a([k]);k=(l.then?(await l)():l)[0];let m=()=>{let[a,b]=(0,f.useState)("90"),[c,d]=(0,f.useState)(!1),[l,m]=(0,f.useState)(""),[n,o]=(0,f.useState)(!1),{showToast:p}=(0,j.dj)(),q=async()=>{if(!a||0>=parseInt(a))return void p("Por favor, insira um n\xfamero de dias v\xe1lido.","error");d(!0),m("");try{let b=await (0,g.gl)({dias_inatividade:a});m(b),p("Template de e-mail gerado com sucesso!","success")}catch(a){p(a.message||"Falha ao gerar o template.","error")}finally{d(!1)}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(h.A,{title:"Gerador de E-mail para Pacientes Inativos",subtitle:"Crie um e-mail de reengajamento para pacientes que n\xe3o retornam h\xe1 algum tempo."}),(0,e.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[(0,e.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm space-y-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-teal-700",children:"Par\xe2metros do Template"}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{htmlFor:"dias-inatividade",className:"block text-sm font-medium text-slate-700",children:"Paciente inativo h\xe1 mais de (dias)"}),(0,e.jsx)("input",{type:"number",name:"dias-inatividade",id:"dias-inatividade",value:a,onChange:a=>b(a.target.value),placeholder:"Ex: 90",className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm"})]}),(0,e.jsxs)("button",{onClick:q,disabled:c,className:"w-full inline-flex justify-center items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-teal-500 hover:bg-teal-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 disabled:bg-teal-300 disabled:cursor-not-allowed",children:[c?(0,e.jsx)(i.aHM,{className:"w-5 h-5 mr-3 -ml-1 animate-spin"}):(0,e.jsx)(i.sUz,{className:"w-5 h-5 mr-3 -ml-1"}),c?"Gerando E-mail...":"Gerar Template com IA"]}),(0,e.jsx)("div",{className:"text-xs text-slate-500 p-3 bg-slate-50 rounded-lg",children:(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Nota:"})," A IA ir\xe1 gerar um template HTML com placeholders como ",(0,e.jsx)("code",{children:"{{nome_paciente}}"}),". Seu sistema de disparo de e-mails dever\xe1 substituir esses placeholders pelos dados reais de cada paciente."]})})]}),(0,e.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-slate-800",children:"Preview do E-mail"}),(0,e.jsxs)("button",{onClick:()=>{l&&(navigator.clipboard.writeText(l),o(!0),p("HTML do e-mail copiado para a \xe1rea de transfer\xeancia!","success"),setTimeout(()=>o(!1),2e3))},disabled:!l||n,className:"inline-flex items-center px-3 py-1.5 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-50",children:[n?(0,e.jsx)(i.Jlk,{className:"w-4 h-4 mr-2 text-green-500"}):(0,e.jsx)(i.B0c,{className:"w-4 h-4 mr-2"}),n?"Copiado!":"Copiar HTML"]})]}),(0,e.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg min-h-[500px] overflow-y-auto border border-slate-200",children:[c&&(0,e.jsxs)("div",{className:"space-y-4 animate-pulse p-2",children:[(0,e.jsx)(k.E,{className:"h-4 w-1/3"}),(0,e.jsx)("br",{}),(0,e.jsx)(k.E,{className:"h-4 w-full"}),(0,e.jsx)(k.E,{className:"h-4 w-full mt-2"}),(0,e.jsx)("br",{}),(0,e.jsx)(k.E,{className:"h-4 w-full"}),(0,e.jsx)(k.E,{className:"h-4 w-full mt-2"}),(0,e.jsx)("br",{}),(0,e.jsx)(k.E,{className:"h-10 w-48 mt-2"})]}),!c&&!l&&(0,e.jsxs)("div",{className:"text-center text-slate-500 flex flex-col justify-center items-center h-full",children:[(0,e.jsx)(i.gE4,{className:"w-16 h-16 text-slate-300 mb-4"}),(0,e.jsx)("p",{className:"font-semibold",children:"O preview do e-mail aparecer\xe1 aqui."}),(0,e.jsx)("p",{className:"text-xs mt-1",children:'Preencha os par\xe2metros e clique em "Gerar Template".'})]}),l&&(0,e.jsx)("iframe",{srcDoc:l,title:"Preview do E-mail",className:"w-full h-[500px] border-0",sandbox:"allow-same-origin"})]})]})]})]})};d()}catch(a){d(a)}})},54822:a=>{a.exports=require("react-router-dom")},56472:a=>{a.exports=require("@opentelemetry/api")},71253:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{cn:()=>h});var e=c(50802),f=c(75979),g=a([e,f]);function h(...a){return(0,f.twMerge)((0,e.clsx)(a))}[e,f]=g.then?(await g)():g,d()}catch(a){d(a)}})},75979:a=>{a.exports=import("tailwind-merge")},82015:a=>{a.exports=require("react")},85689:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{config:()=>s,default:()=>o,getServerSideProps:()=>r,getStaticPaths:()=>q,getStaticProps:()=>p,handler:()=>A,reportWebVitals:()=>t,routeModule:()=>z,unstable_getServerProps:()=>x,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>w,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>u});var e=c(63885),f=c(80237),g=c(81413),h=c(3317),i=c.n(h),j=c(76195),k=c.n(j),l=c(51732),m=c(12289),n=a([l]);l=(n.then?(await n)():n)[0];let o=(0,g.M)(l,"default"),p=(0,g.M)(l,"getStaticProps"),q=(0,g.M)(l,"getStaticPaths"),r=(0,g.M)(l,"getServerSideProps"),s=(0,g.M)(l,"config"),t=(0,g.M)(l,"reportWebVitals"),u=(0,g.M)(l,"unstable_getStaticProps"),v=(0,g.M)(l,"unstable_getStaticPaths"),w=(0,g.M)(l,"unstable_getStaticParams"),x=(0,g.M)(l,"unstable_getServerProps"),y=(0,g.M)(l,"unstable_getServerSideProps"),z=new e.PagesRouteModule({definition:{kind:f.RouteKind.PAGES,page:"/InactivePatientEmailPage",pathname:"/InactivePatientEmailPage",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:k(),Document:i()},userland:l}),A=(0,m.U)({srcPage:"/InactivePatientEmailPage",config:s,userland:l,routeModule:z,getStaticPaths:q,getStaticProps:p,getServerSideProps:r});d()}catch(a){d(a)}})},99597:(a,b,c)=>{c.d(b,{dj:()=>g}),c(8732);var d=c(82015);c(54822);let e=(0,d.createContext)(void 0),f=(0,d.createContext)(void 0),g=()=>{let a=(()=>{let a=(0,d.useContext)(e);return void 0===a?{enabled:!1,logRouterChange:()=>{},logHookCall:()=>{},logContextAccess:()=>{}}:a})(),b=(0,d.useContext)(f);if(a.logContextAccess("ToastContext","useToast"),!b){let a=Error("useToast must be used within a ToastProvider");throw console.error("âŒ Toast Context Error:",a.message),a}return{showToast:b.showToast}}}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[3317,9871,1302],()=>b(b.s=85689));module.exports=c})();