"use strict";(()=>{var a={};a.id=5010,a.ids=[981,3220,5010],a.modules={6451:(a,b,c)=>{c.d(b,{F:()=>g});var d=c(82015),e=c(75355),f=c(99597);let g=()=>{let[a,b]=(0,d.useState)([]),[c,g]=(0,d.useState)([]),[h,i]=(0,d.useState)(!0),[j,k]=(0,d.useState)(null),{showToast:l}=(0,f.dj)(),m=(0,d.useCallback)(async()=>{i(!0);try{let{exercises:a,categories:c}=await e.xY();b(a),g(c),k(null)}catch(a){k(a),l("Falha ao carregar exerc\xedcios.","error")}finally{i(!1)}},[l]);(0,d.useEffect)(()=>{m()},[m]);let n=(0,d.useMemo)(()=>[...new Set(a.flatMap(a=>a.bodyParts))].sort((a,b)=>a.localeCompare(b)),[a]),o=(0,d.useMemo)(()=>[...new Set(a.flatMap(a=>a.equipment))].sort((a,b)=>a.localeCompare(b)),[a]),p=async a=>{try{await e.WV(a),l("Exerc\xedcio adicionado com sucesso!","success"),await m()}catch{l("Falha ao adicionar exerc\xedcio.","error")}},q=async a=>{try{await e.O7(a),l("Exerc\xedcio atualizado com sucesso!","success"),await m()}catch{l("Falha ao atualizar exerc\xedcio.","error")}},r=async a=>{try{await e.C_(a),l("Exerc\xedcio exclu\xeddo com sucesso!","success"),await m()}catch{l("Falha ao excluir exerc\xedcio.","error")}},s=async a=>{try{await e.Ah(a),l(`Grupo "${a}" criado com sucesso!`,"success"),await m()}catch{l("Falha ao criar grupo.","error")}},t=async(a,b)=>{try{await e.st(a,b),l("Grupo renomeado com sucesso!","success"),await m()}catch{l("Falha ao renomear grupo.","error")}},u=async(a,b)=>{try{await e.CC(a,b),l(`Grupo "${a}" copiado para "${b}"!`,"success"),await m()}catch{l("Falha ao copiar grupo.","error")}},v=async a=>{try{await e.K7(a),l(`Grupo "${a}" e seus exerc\xedcios foram exclu\xeddos.`,"success"),await m()}catch{l("Falha ao excluir grupo.","error")}};return{exercises:a,categories:c,isLoading:h,error:j,refetch:m,addExercise:p,updateExercise:q,deleteExercise:r,addCategory:s,updateCategory:t,copyCategory:u,deleteCategory:v,uniqueBodyParts:n,uniqueEquipment:o}}},8732:a=>{a.exports=require("react/jsx-runtime")},33873:a=>{a.exports=require("path")},40361:a=>{a.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},43362:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{default:()=>q});var e=c(8732),f=c(82015),g=c(51302),h=c(6451),i=c(42227),j=c(60081),k=c(35014),l=c(19119),m=c(57267),n=c(8246),o=a([l]);l=(o.then?(await o)():o)[0];let p=({id:a,label:b,checked:c,onChange:d})=>(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("input",{id:a,type:"checkbox",checked:c,onChange:a=>d(a.target.checked),className:"h-4 w-4 rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),(0,e.jsx)("label",{htmlFor:a,className:"ml-3 text-sm text-slate-600",children:b})]}),q=()=>{let{exercises:a,categories:b,isLoading:c,addExercise:d,updateExercise:o,deleteExercise:q,addCategory:r,updateCategory:s,copyCategory:t,deleteCategory:u,uniqueBodyParts:v,uniqueEquipment:w}=(0,h.F)(),[x,y]=(0,f.useState)(""),[z,A]=(0,f.useState)([]),[B,C]=(0,f.useState)([]),[D,E]=(0,f.useState)(5),[F,G]=(0,f.useState)(!1),[H,I]=(0,f.useState)(),[J,K]=(0,f.useState)(),[L,M]=(0,f.useState)(!1),[N,O]=(0,f.useState)({mode:"create"}),[P,Q]=(0,f.useState)([]),[R,S]=(0,f.useState)(null);(0,f.useEffect)(()=>{!c&&b.length>0&&0===P.length&&b[0]&&Q([b[0]])},[c,b,P.length]);let T=x||z.length>0||B.length>0||D<5,U=(0,f.useMemo)(()=>a.filter(a=>{let b=""===x||a.name.toLowerCase().includes(x.toLowerCase())||a.category.toLowerCase().includes(x.toLowerCase()),c=0===z.length||z.some(b=>a.bodyParts.includes(b)),d=0===B.length||B.some(b=>a.equipment.includes(b)),e=a.difficulty<=D;return b&&c&&d&&e}),[a,x,z,B,D]),V=(a,b)=>{I(a),K(b),G(!0)},W=()=>{I(void 0),K(void 0),G(!1)},X=async a=>{a.id?await o(a):await d(a),W()},Y=(a,b)=>{O({mode:a,...b&&{name:b}}),M(!0)},Z=async a=>{"create"===N.mode?await r(a):"edit"===N.mode&&N.name?await s(N.name,a):"copy"===N.mode&&N.name&&await t(N.name,a),M(!1)};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(i.A,{title:"Biblioteca de Exerc\xedcios",subtitle:"Gerencie os exerc\xedcios utilizados nas prescri\xe7\xf5es da cl\xednica.",children:[(0,e.jsxs)("button",{onClick:()=>Y("create"),className:"inline-flex items-center justify-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50 mr-3",children:[(0,e.jsx)(g.FWt,{className:"-ml-1 mr-2 h-5 w-5"}),"Novo Grupo"]}),(0,e.jsxs)("button",{onClick:()=>V(),className:"inline-flex items-center justify-center rounded-lg border border-transparent bg-teal-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-teal-600",children:[(0,e.jsx)(g.FWt,{className:"-ml-1 mr-2 h-5 w-5"}),"Novo Exerc\xedcio"]})]}),(0,e.jsx)(k.A,{isOpen:F,onClose:W,onSave:X,exerciseToEdit:H,defaultCategory:J,allCategories:b}),(0,e.jsx)(m.A,{isOpen:L,onClose:()=>M(!1),onSave:Z,mode:N.mode,initialName:N.name}),(0,e.jsx)(n.A,{isOpen:!!R,onClose:()=>S(null),videoUrl:R?.url,title:R?.title}),c?(0,e.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,e.jsx)(l.E,{className:"lg:col-span-1 h-96 rounded-2xl"}),(0,e.jsx)("div",{className:"lg:col-span-3 space-y-4",children:Array.from({length:3}).map((a,b)=>(0,e.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-sm",children:[(0,e.jsx)(l.E,{className:"h-8 w-1/3 mb-4"}),(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,e.jsx)(l.E,{className:"h-48 w-full rounded-xl"}),(0,e.jsx)(l.E,{className:"h-48 w-full rounded-xl"})]})]},b))})]}):(0,e.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,e.jsx)("aside",{className:"lg:col-span-1 space-y-6",children:(0,e.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-sm",children:[(0,e.jsxs)("h3",{className:"font-bold text-slate-800 mb-4 flex items-center justify-between",children:[(0,e.jsxs)("span",{className:"flex items-center",children:[(0,e.jsx)(g.dJT,{className:"w-5 h-5 mr-2"}),"Filtros"]}),T&&(0,e.jsxs)("button",{onClick:()=>{y(""),A([]),C([]),E(5)},className:"text-xs font-semibold text-teal-600 hover:underline flex items-center",children:[(0,e.jsx)(g.X,{className:"w-3 h-3 mr-1"})," Limpar"]})]}),(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-sm font-semibold text-slate-700",children:"Busca por nome"}),(0,e.jsxs)("div",{className:"relative mt-1",children:[(0,e.jsx)(g.vji,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,e.jsx)("input",{type:"text",placeholder:"Ex: Agachamento",value:x,onChange:a=>y(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg"})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{className:"text-sm font-semibold text-slate-700",children:["N\xedvel de Dificuldade (m\xe1x. ",D,")"]}),(0,e.jsx)("input",{type:"range",min:"1",max:"5",value:D,onChange:a=>E(Number(a.target.value)),className:"w-full mt-2"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Parte do Corpo"}),(0,e.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:v.map(a=>(0,e.jsx)(p,{id:`part-${a}`,label:a,checked:z.includes(a),onChange:b=>((a,b)=>{A(c=>b?[...c,a]:c.filter(b=>b!==a))})(a,b)},a))})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Equipamento"}),(0,e.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:w.map(a=>(0,e.jsx)(p,{id:`equip-${a}`,label:a,checked:B.includes(a),onChange:b=>((a,b)=>{C(c=>b?[...c,a]:c.filter(b=>b!==a))})(a,b)},a))})]})]})]})}),(0,e.jsxs)("main",{className:"lg:col-span-3 space-y-4",children:[b.map(a=>{let b=U.filter(b=>b.category===a);if(0===b.length)return null;let c=P.includes(a);return(0,e.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm transition-shadow hover:shadow-md",children:[(0,e.jsxs)("div",{className:"group flex items-center p-4 cursor-pointer",onClick:()=>(a=>{Q(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])})(a),children:[(0,e.jsxs)("h3",{className:"text-xl font-bold text-slate-800 flex-1",children:[a," ",(0,e.jsxs)("span",{className:"text-base font-normal text-slate-500",children:["(",b.length,")"]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",onClick:a=>a.stopPropagation(),children:[(0,e.jsx)("button",{onClick:()=>V(void 0,a),className:"p-2 rounded-full hover:bg-slate-100 text-slate-600",title:"Adicionar Exerc\xedcio",children:(0,e.jsx)(g.FWt,{size:18})}),(0,e.jsx)("button",{onClick:()=>Y("edit",a),className:"p-2 rounded-full hover:bg-slate-100 text-slate-600",title:"Renomear Grupo",children:(0,e.jsx)(g.ffu,{size:16})}),(0,e.jsx)("button",{onClick:()=>Y("copy",a),className:"p-2 rounded-full hover:bg-slate-100 text-slate-600",title:"Copiar Grupo",children:(0,e.jsx)(g.QRo,{size:16})}),(0,e.jsx)("button",{onClick:()=>(a=>{window.confirm(`Tem certeza que deseja excluir o grupo "${a}" e todos os seus exerc\xedcios? Esta a\xe7\xe3o n\xe3o pode ser desfeita.`)&&u(a)})(a),className:"p-2 rounded-full hover:bg-red-50 text-red-600",title:"Excluir Grupo",children:(0,e.jsx)(g.TBR,{size:16})})]}),(0,e.jsx)(g.yQN,{className:`ml-2 w-6 h-6 text-slate-400 transition-transform ${c?"rotate-180":""}`})]}),c&&(0,e.jsx)("div",{className:"p-4 border-t border-slate-200",children:(0,e.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:b.map(a=>(0,e.jsx)(j.A,{exercise:a,onEdit:()=>V(a),onDelete:()=>(a=>{window.confirm(`Tem certeza que deseja excluir o exerc\xedcio "${a.name}"?`)&&q(a.id)})(a),onPlay:()=>a.media.videoUrl&&S({url:a.media.videoUrl,title:a.name})},a.id))})})]},a)}),0===U.length&&(0,e.jsxs)("div",{className:"text-center p-10 bg-white rounded-2xl shadow-sm",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-slate-700",children:"Nenhum exerc\xedcio encontrado"}),(0,e.jsx)("p",{className:"text-slate-500 mt-1",children:"Tente ajustar seus filtros para encontrar o que procura."})]})]})]})]})};d()}catch(a){d(a)}})},46060:a=>{a.exports=require("next/dist/shared/lib/no-fallback-error.external.js")},47019:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{config:()=>s,default:()=>o,getServerSideProps:()=>r,getStaticPaths:()=>q,getStaticProps:()=>p,handler:()=>A,reportWebVitals:()=>t,routeModule:()=>z,unstable_getServerProps:()=>x,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>w,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>u});var e=c(63885),f=c(80237),g=c(81413),h=c(3317),i=c.n(h),j=c(76195),k=c.n(j),l=c(43362),m=c(12289),n=a([l]);l=(n.then?(await n)():n)[0];let o=(0,g.M)(l,"default"),p=(0,g.M)(l,"getStaticProps"),q=(0,g.M)(l,"getStaticPaths"),r=(0,g.M)(l,"getServerSideProps"),s=(0,g.M)(l,"config"),t=(0,g.M)(l,"reportWebVitals"),u=(0,g.M)(l,"unstable_getStaticProps"),v=(0,g.M)(l,"unstable_getStaticPaths"),w=(0,g.M)(l,"unstable_getStaticParams"),x=(0,g.M)(l,"unstable_getServerProps"),y=(0,g.M)(l,"unstable_getServerSideProps"),z=new e.PagesRouteModule({definition:{kind:f.RouteKind.PAGES,page:"/ExerciseLibraryPage",pathname:"/ExerciseLibraryPage",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:k(),Document:i()},userland:l}),A=(0,m.U)({srcPage:"/ExerciseLibraryPage",config:s,userland:l,routeModule:z,getStaticPaths:q,getStaticProps:p,getServerSideProps:r});d()}catch(a){d(a)}})},50802:a=>{a.exports=import("clsx")},54822:a=>{a.exports=require("react-router-dom")},56472:a=>{a.exports=require("@opentelemetry/api")},57267:(a,b,c)=>{c.d(b,{A:()=>g});var d=c(8732),e=c(82015),f=c(51302);let g=({isOpen:a,onClose:b,onSave:c,mode:g,initialName:h=""})=>{let[i,j]=(0,e.useState)("");return((0,e.useEffect)(()=>{"copy"===g?j(`${h} (C\xf3pia)`):j(h)},[h,g,a]),a)?(0,d.jsx)("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:b,children:(0,d.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",onClick:a=>a.stopPropagation(),children:[(0,d.jsxs)("header",{className:"flex items-center justify-between p-5 border-b border-slate-200",children:[(0,d.jsx)("h2",{className:"text-lg font-bold text-slate-800",children:{create:"Criar Novo Grupo de Exerc\xedcios",edit:"Renomear Grupo",copy:"Copiar Grupo"}[g]}),(0,d.jsx)("button",{onClick:b,className:"p-2 rounded-full hover:bg-slate-100",children:(0,d.jsx)(f.X,{className:"w-5 h-5 text-slate-600"})})]}),(0,d.jsxs)("form",{onSubmit:a=>{a.preventDefault(),i.trim()&&c(i.trim())},children:[(0,d.jsxs)("main",{className:"p-6",children:[(0,d.jsx)("label",{htmlFor:"group-name",className:"text-sm font-medium text-slate-700",children:"Nome do Grupo"}),(0,d.jsx)("input",{id:"group-name",type:"text",value:i,onChange:a=>j(a.target.value),className:"mt-1 w-full p-2 border border-slate-300 rounded-lg",required:!0,autoFocus:!0}),"copy"===g&&(0,d.jsxs)("p",{className:"text-xs text-slate-500 mt-2",children:['Uma c\xf3pia de todos os exerc\xedcios do grupo "',h,'" ser\xe1 criada neste novo grupo.']})]}),(0,d.jsxs)("footer",{className:"flex justify-end items-center p-4 border-t border-slate-200 bg-slate-50 rounded-b-2xl",children:[(0,d.jsx)("button",{type:"button",onClick:b,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 mr-2",children:"Cancelar"}),(0,d.jsxs)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 rounded-lg hover:bg-teal-600 flex items-center",children:[(0,d.jsx)(f.eMP,{className:"w-4 h-4 mr-2"}),"Salvar"]})]})]})]})}):null}},75979:a=>{a.exports=import("tailwind-merge")},82015:a=>{a.exports=require("react")},93939:a=>{a.exports=require("@supabase/supabase-js")}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[3317,9871,1302,4183,7367,8471,5448],()=>b(b.s=47019));module.exports=c})();