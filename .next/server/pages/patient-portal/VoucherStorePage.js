"use strict";(()=>{var a={};a.id=8577,a.ids=[3220,8577,9728],a.modules={7759:(a,b,c)=>{c.d(b,{A:()=>f});var d=c(8732);c(82015);var e=c(51302);let f=({plan:a,onSelect:b})=>(0,d.jsxs)("div",{className:`rounded-2xl border-2 p-6 flex flex-col h-full transition-all duration-300 ${a.popular?"border-teal-500 shadow-lg":"border-slate-200 bg-white"}`,children:[a.popular&&(0,d.jsx)("div",{className:"flex justify-center mb-4",children:(0,d.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-teal-100 text-teal-700",children:[(0,d.jsx)(e.FEq,{className:"w-4 h-4 mr-2"})," Mais Popular"]})}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:a.name}),(0,d.jsx)("p",{className:"text-slate-500 mt-2",children:a.description}),(0,d.jsxs)("div",{className:"my-6",children:[(0,d.jsxs)("span",{className:"text-4xl font-extrabold text-slate-900",children:["R$",a.price.toFixed(2).replace(".",",")]}),(0,d.jsx)("span",{className:"text-base font-medium text-slate-500",children:"/m\xeas"})]})]}),(0,d.jsx)("ul",{className:"space-y-3 text-slate-600 mb-8 flex-grow",children:a.features.map((a,b)=>(0,d.jsxs)("li",{className:"flex items-start",children:[(0,d.jsx)(e.rAV,{className:"w-5 h-5 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),(0,d.jsx)("span",{children:a})]},b))}),(0,d.jsx)("button",{onClick:()=>b(a),className:`w-full py-3 px-6 rounded-lg font-semibold text-center transition-colors ${a.popular?"bg-teal-500 text-white hover:bg-teal-600":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Adquirir Plano"})]})},8732:a=>{a.exports=require("react/jsx-runtime")},19119:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{E:()=>h});var e=c(8732),f=c(71253),g=a([f]);function h({className:a,...b}){return(0,e.jsx)("div",{className:(0,f.cn)("animate-pulse rounded-md bg-muted",a),...b})}f=(g.then?(await g)():g)[0],d()}catch(a){d(a)}})},19594:(a,b,c)=>{c.d(b,{BJ:()=>g,Tj:()=>f,oX:()=>h});var d=c(4183);let e=a=>new Promise(b=>setTimeout(b,a)),f=async()=>(await e(500),d.Nk),g=async a=>(await e(300),d.XM.filter(b=>b.patientId===a)),h=async(a,b)=>{await e(1e3);let c=d.Nk.find(b=>b.id===a);if(!c)throw Error("Plano de voucher n\xe3o encontrado.");let f=new Date,g=new Date;g.setDate(f.getDate()+c.durationDays);let h={id:`voucher_${Date.now()}`,code:`VF-${Math.random().toString(36).substr(2,9).toUpperCase()}`,patientId:b,plan:c,status:"activated",purchaseDate:f,activationDate:f,expiryDate:g,remainingCredits:c.credits};return d.XM.unshift(h),h}},33873:a=>{a.exports=require("path")},35654:(a,b,c)=>{c.d(b,{A:()=>g});var d=c(8732),e=c(82015),f=c(51302);let g=({isOpen:a,onClose:b,onConfirm:c,plan:g})=>{let[h,i]=(0,e.useState)(!1);if(!a||!g)return null;let j=async()=>{i(!0),await c(g),i(!1)};return(0,d.jsx)("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:b,children:(0,d.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg",onClick:a=>a.stopPropagation(),children:[(0,d.jsxs)("header",{className:"flex items-center justify-between p-5 border-b border-slate-200",children:[(0,d.jsx)("h2",{className:"text-lg font-bold text-slate-800",children:"Confirmar Compra"}),(0,d.jsx)("button",{onClick:b,className:"p-2 rounded-full hover:bg-slate-100",children:(0,d.jsx)(f.X,{className:"w-5 h-5 text-slate-600"})})]}),(0,d.jsxs)("main",{className:"p-6",children:[(0,d.jsx)("p",{className:"text-slate-600 mb-4",children:"Voc\xea est\xe1 prestes a adquirir o seguinte plano:"}),(0,d.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 space-y-2",children:[(0,d.jsx)("h3",{className:"text-xl font-bold text-teal-700",children:g.name}),(0,d.jsx)("p",{className:"text-slate-600",children:g.description}),(0,d.jsxs)("div",{className:"pt-2",children:[(0,d.jsxs)("span",{className:"text-3xl font-extrabold text-slate-900",children:["R$",g.price.toFixed(2).replace(".",",")]}),(0,d.jsx)("span",{className:"text-base font-medium text-slate-500",children:"/m\xeas"})]})]}),(0,d.jsxs)("div",{className:"mt-6 flex items-center text-xs text-slate-500 bg-slate-100 p-2 rounded-md",children:[(0,d.jsx)(f.oxo,{className:"w-8 h-8 mr-2 text-green-500"}),(0,d.jsx)("span",{children:"Este \xe9 um ambiente de simula\xe7\xe3o. Nenhum pagamento real ser\xe1 processado. Seus dados est\xe3o seguros."})]})]}),(0,d.jsxs)("footer",{className:"flex justify-end items-center p-4 border-t border-slate-200 bg-slate-50 rounded-b-2xl",children:[(0,d.jsx)("button",{onClick:b,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 mr-2",children:"Cancelar"}),(0,d.jsxs)("button",{onClick:j,disabled:h,className:"px-6 py-2 text-sm font-medium text-white bg-teal-500 rounded-lg hover:bg-teal-600 flex items-center disabled:bg-teal-300",children:[h?(0,d.jsx)(f.aHM,{className:"w-4 h-4 mr-2 animate-spin"}):null,h?"Processando...":"Confirmar Compra e Ativar"]})]})]})})}},40361:a=>{a.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},42227:(a,b,c)=>{c.d(b,{A:()=>e});var d=c(8732);c(82015);let e=({title:a,subtitle:b,children:c})=>(0,d.jsxs)("div",{className:"pb-8 md:flex md:items-center md:justify-between",children:[(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold leading-tight text-slate-900 tracking-tight",children:a}),(0,d.jsx)("p",{className:"mt-2 text-lg text-slate-600",children:b})]}),(0,d.jsx)("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:c})]})},46060:a=>{a.exports=require("next/dist/shared/lib/no-fallback-error.external.js")},50802:a=>{a.exports=import("clsx")},54822:a=>{a.exports=require("react-router-dom")},56472:a=>{a.exports=require("@opentelemetry/api")},71253:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{cn:()=>h});var e=c(50802),f=c(75979),g=a([e,f]);function h(...a){return(0,f.twMerge)((0,e.clsx)(a))}[e,f]=g.then?(await g)():g,d()}catch(a){d(a)}})},75979:a=>{a.exports=import("tailwind-merge")},82015:a=>{a.exports=require("react")},88785:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{config:()=>s,default:()=>o,getServerSideProps:()=>r,getStaticPaths:()=>q,getStaticProps:()=>p,handler:()=>A,reportWebVitals:()=>t,routeModule:()=>z,unstable_getServerProps:()=>x,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>w,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>u});var e=c(63885),f=c(80237),g=c(81413),h=c(3317),i=c.n(h),j=c(76195),k=c.n(j),l=c(89728),m=c(12289),n=a([l]);l=(n.then?(await n)():n)[0];let o=(0,g.M)(l,"default"),p=(0,g.M)(l,"getStaticProps"),q=(0,g.M)(l,"getStaticPaths"),r=(0,g.M)(l,"getServerSideProps"),s=(0,g.M)(l,"config"),t=(0,g.M)(l,"reportWebVitals"),u=(0,g.M)(l,"unstable_getStaticProps"),v=(0,g.M)(l,"unstable_getStaticPaths"),w=(0,g.M)(l,"unstable_getStaticParams"),x=(0,g.M)(l,"unstable_getServerProps"),y=(0,g.M)(l,"unstable_getServerSideProps"),z=new e.PagesRouteModule({definition:{kind:f.RouteKind.PAGES,page:"/patient-portal/VoucherStorePage",pathname:"/patient-portal/VoucherStorePage",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:k(),Document:i()},userland:l}),A=(0,m.U)({srcPage:"/patient-portal/VoucherStorePage",config:s,userland:l,routeModule:z,getStaticPaths:q,getStaticProps:p,getServerSideProps:r});d()}catch(a){d(a)}})},89728:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{default:()=>p});var e=c(8732),f=c(82015),g=c(54822),h=c(42227),i=c(19594),j=c(7759),k=c(35654),l=c(19119),m=c(28471),n=c(99597),o=a([l]);l=(o.then?(await o)():o)[0];let p=()=>{let[a,b]=(0,f.useState)([]),[c,d]=(0,f.useState)(!0),[o,p]=(0,f.useState)(null),{user:q}=(0,m.As)(),{showToast:r}=(0,n.dj)(),s=g.useNavigate();(0,f.useEffect)(()=>{(async()=>{d(!0);try{let a=await i.Tj();b(a)}catch(a){r("Erro ao carregar os planos de servi\xe7o.","error")}finally{d(!1)}})()},[r]);let t=async a=>{if(!q?.patientId)return void r("N\xe3o foi poss\xedvel identificar o paciente.","error");try{await i.oX(a.id,q.patientId),r(`Plano "${a.name}" adquirido com sucesso!`,"success"),p(null),s("/portal/my-vouchers")}catch(a){r("Ocorreu um erro ao processar sua compra.","error")}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(h.A,{title:"Servi\xe7os da Parceria",subtitle:"Complemente seu tratamento com os planos de acompanhamento da nossa educadora f\xedsica parceira."}),(0,e.jsx)(k.A,{isOpen:!!o,onClose:()=>p(null),onConfirm:t,plan:o}),(0,e.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-stretch",children:c?Array.from({length:3}).map((a,b)=>(0,e.jsx)(l.E,{className:"h-96 rounded-2xl"},b)):a.map(a=>(0,e.jsx)(j.A,{plan:a,onSelect:()=>p(a)},a.id))})]})};d()}catch(a){d(a)}})},93939:a=>{a.exports=require("@supabase/supabase-js")},99597:(a,b,c)=>{c.d(b,{dj:()=>g}),c(8732);var d=c(82015);c(54822);let e=(0,d.createContext)(void 0),f=(0,d.createContext)(void 0),g=()=>{let a=(()=>{let a=(0,d.useContext)(e);return void 0===a?{enabled:!1,logRouterChange:()=>{},logHookCall:()=>{},logContextAccess:()=>{}}:a})(),b=(0,d.useContext)(f);if(a.logContextAccess("ToastContext","useToast"),!b){let a=Error("useToast must be used within a ToastProvider");throw console.error("âŒ Toast Context Error:",a.message),a}return{showToast:b.showToast}}}};var b=require("../../webpack-runtime.js");b.C(a);var c=b.X(0,[3317,9871,1302,4183,7367,8471],()=>b(b.s=88785));module.exports=c})();