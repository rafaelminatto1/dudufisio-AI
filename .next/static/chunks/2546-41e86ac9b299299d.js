"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2546],{46885:(e,a,s)=>{s.d(a,{A:()=>c});var l=s(37876),t=s(14232),r=s(28249),n=s(6394),o=s(14776);let d=()=>({name:"",description:"",eventType:o.Bx.Corrida,startDate:new Date,endDate:new Date,location:"",address:"",capacity:100,isFree:!0,price:0,status:o.fb.Draft,organizerId:"",requiresRegistration:!0,allowsProviders:!1,providerRate:0,bannerUrl:""}),c=e=>{let{isOpen:a,onClose:s,onSave:c,eventToEdit:i}=e,[m,p]=(0,t.useState)(d());if((0,t.useEffect)(()=>{i?p({...i,price:i.price||0,providerRate:i.providerRate||0,address:i.address||""}):p(d())},[i,a]),!a)return null;let u=e=>{let{name:a,value:s,type:l}=e.target,t=s;"checkbox"===l?t=e.target.checked:"number"===l?t=parseFloat(s)||0:"datetime-local"===l&&(t=new Date(s)),p(e=>({...e,[a]:t}))},x=async()=>{await c({...m,...(null==i?void 0:i.id)&&{id:i.id}})},h=e=>e?new Date(e).toISOString().slice(0,16):"";return(0,l.jsx)("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:s,children:(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("header",{className:"flex items-center justify-between p-5 border-b",children:[(0,l.jsx)("h2",{className:"text-lg font-bold text-slate-800",children:i?"Editar Evento":"Novo Evento"}),(0,l.jsx)("button",{onClick:s,className:"p-2 rounded-full hover:bg-slate-100",children:(0,l.jsx)(r.A,{className:"w-5 h-5"})})]}),(0,l.jsxs)("main",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[(0,l.jsx)("input",{type:"text",name:"name",value:m.name,onChange:u,placeholder:"Nome do Evento",className:"w-full p-2 border rounded-lg text-lg font-bold"}),(0,l.jsx)("textarea",{name:"description",value:m.description,onChange:u,placeholder:"Descri\xe7\xe3o detalhada do evento...",rows:3,className:"w-full p-2 border rounded-lg text-sm"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsx)("select",{name:"eventType",value:m.eventType,onChange:u,className:"w-full p-2 border rounded-lg bg-white",children:Object.values(o.Bx).map(e=>(0,l.jsx)("option",{value:e,children:e},e))}),(0,l.jsx)("input",{type:"text",name:"location",value:m.location,onChange:u,placeholder:"Local do Evento (Ex: Parque Ibirapuera)",className:"w-full p-2 border rounded-lg"}),(0,l.jsx)("div",{className:"md:col-span-2",children:(0,l.jsx)("input",{type:"text",name:"address",value:m.address||"",onChange:u,placeholder:"Endere\xe7o Completo (Opcional)",className:"w-full p-2 border rounded-lg text-sm"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-xs",children:"In\xedcio"}),(0,l.jsx)("input",{type:"datetime-local",name:"startDate",value:h(m.startDate),onChange:u,className:"w-full p-2 border rounded-lg"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-xs",children:"Fim"}),(0,l.jsx)("input",{type:"datetime-local",name:"endDate",value:h(m.endDate),onChange:u,className:"w-full p-2 border rounded-lg"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsx)("select",{name:"status",value:m.status,onChange:u,className:"w-full p-2 border rounded-lg bg-white",children:Object.values(o.fb).map(e=>(0,l.jsx)("option",{value:e,children:e},e))}),(0,l.jsx)("input",{type:"number",name:"capacity",value:m.capacity,onChange:u,placeholder:"Capacidade",className:"w-full p-2 border rounded-lg"})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,l.jsx)("input",{type:"text",name:"bannerUrl",value:m.bannerUrl||"",onChange:u,placeholder:"URL da Imagem do Banner",className:"w-full p-2 border rounded-lg text-sm"})}),(0,l.jsxs)("div",{className:"space-y-3 pt-4 border-t",children:[(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",name:"requiresRegistration",checked:m.requiresRegistration,onChange:u,className:"mr-2"})," Requer Inscri\xe7\xe3o"]}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",name:"isFree",checked:m.isFree,onChange:u,className:"mr-2"})," Evento Gratuito"]}),!m.isFree&&(0,l.jsx)("input",{type:"number",name:"price",value:m.price,onChange:u,placeholder:"Pre\xe7o (R$)",className:"flex-1 p-2 border rounded-lg"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",name:"allowsProviders",checked:m.allowsProviders,onChange:u,className:"mr-2"})," Aceita Fisioterapeutas?"]}),m.allowsProviders&&(0,l.jsx)("input",{type:"number",name:"providerRate",value:m.providerRate,onChange:u,placeholder:"Valor por hora (R$)",className:"flex-1 p-2 border rounded-lg"})]})]})]}),(0,l.jsxs)("footer",{className:"flex justify-end p-4 border-t bg-slate-50",children:[(0,l.jsx)("button",{onClick:s,className:"px-4 py-2 text-sm mr-2 border rounded-lg",children:"Cancelar"}),(0,l.jsxs)("button",{onClick:x,className:"px-4 py-2 text-sm text-white bg-teal-500 rounded-lg hover:bg-teal-600 flex items-center",children:[(0,l.jsx)(n.A,{className:"w-4 h-4 mr-2"})," Salvar"]})]})]})})}},66822:(e,a,s)=>{s.d(a,{dj:()=>n}),s(37876);var l=s(14232);let t=(0,l.createContext)(void 0),r=(0,l.createContext)(void 0),n=()=>{let e=(()=>{let e=(0,l.useContext)(t);return void 0===e?{enabled:!1,logRouterChange:()=>{},logHookCall:()=>{},logContextAccess:()=>{}}:e})(),a=(0,l.useContext)(r);if(e.logContextAccess("ToastContext","useToast"),!a){let e=Error("useToast must be used within a ToastProvider");throw console.error("‚ùå Toast Context Error:",e.message),e}return{showToast:a.showToast}}}}]);