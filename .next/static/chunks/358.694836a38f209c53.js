"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[358],{5427:(e,s,a)=>{a.d(s,{A:()=>t});let t=(0,a(17963).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},42380:(e,s,a)=>{a.d(s,{F:()=>c});var t=a(14232),l=a(42085),r=a(66822);let c=()=>{let[e,s]=(0,t.useState)([]),[a,c]=(0,t.useState)([]),[o,i]=(0,t.useState)(!0),[n,d]=(0,t.useState)(null),{showToast:m}=(0,r.dj)(),u=(0,t.useCallback)(async()=>{i(!0);try{let{exercises:e,categories:a}=await l.xY();s(e),c(a),d(null)}catch(e){d(e),m("Falha ao carregar exerc\xedcios.","error")}finally{i(!1)}},[m]);(0,t.useEffect)(()=>{u()},[u]);let x=(0,t.useMemo)(()=>[...new Set(e.flatMap(e=>e.bodyParts))].sort((e,s)=>e.localeCompare(s)),[e]),h=(0,t.useMemo)(()=>[...new Set(e.flatMap(e=>e.equipment))].sort((e,s)=>e.localeCompare(s)),[e]),p=async e=>{try{await l.WV(e),m("Exerc\xedcio adicionado com sucesso!","success"),await u()}catch(e){m("Falha ao adicionar exerc\xedcio.","error")}},g=async e=>{try{await l.O7(e),m("Exerc\xedcio atualizado com sucesso!","success"),await u()}catch(e){m("Falha ao atualizar exerc\xedcio.","error")}},j=async e=>{try{await l.C_(e),m("Exerc\xedcio exclu\xeddo com sucesso!","success"),await u()}catch(e){m("Falha ao excluir exerc\xedcio.","error")}},b=async e=>{try{await l.Ah(e),m('Grupo "'.concat(e,'" criado com sucesso!'),"success"),await u()}catch(e){m("Falha ao criar grupo.","error")}},f=async(e,s)=>{try{await l.st(e,s),m("Grupo renomeado com sucesso!","success"),await u()}catch(e){m("Falha ao renomear grupo.","error")}},N=async(e,s)=>{try{await l.CC(e,s),m('Grupo "'.concat(e,'" copiado para "').concat(s,'"!'),"success"),await u()}catch(e){m("Falha ao copiar grupo.","error")}},w=async e=>{try{await l.K7(e),m('Grupo "'.concat(e,'" e seus exerc\xedcios foram exclu\xeddos.'),"success"),await u()}catch(e){m("Falha ao excluir grupo.","error")}};return{exercises:e,categories:a,isLoading:o,error:n,refetch:u,addExercise:p,updateExercise:g,deleteExercise:j,addCategory:b,updateCategory:f,copyCategory:N,deleteCategory:w,uniqueBodyParts:x,uniqueEquipment:h}}},58725:(e,s,a)=>{a.d(s,{A:()=>t});let t=(0,a(17963).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},74206:(e,s,a)=>{a.d(s,{A:()=>t});let t=(0,a(17963).A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},90358:(e,s,a)=>{a.r(s),a.d(s,{default:()=>w});var t=a(37876),l=a(14232),r=a(60383),c=a(5427),o=a(28249),i=a(59435),n=a(79758),d=a(74206),m=a(93536),u=a(58725),x=a(42380),h=a(35880),p=a(269),g=a(68065),j=a(6782),b=a(95552),f=a(66815);let N=e=>{let{id:s,label:a,checked:l,onChange:r}=e;return(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{id:s,type:"checkbox",checked:l,onChange:e=>r(e.target.checked),className:"h-4 w-4 rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),(0,t.jsx)("label",{htmlFor:s,className:"ml-3 text-sm text-slate-600",children:a})]})},w=()=>{let{exercises:e,categories:s,isLoading:a,addExercise:w,updateExercise:y,deleteExercise:v,addCategory:C,updateCategory:A,copyCategory:k,deleteCategory:E,uniqueBodyParts:S,uniqueEquipment:F}=(0,x.F)(),[G,z]=(0,l.useState)(""),[q,M]=(0,l.useState)([]),[L,P]=(0,l.useState)([]),[_,O]=(0,l.useState)(5),[T,U]=(0,l.useState)(!1),[D,B]=(0,l.useState)(),[R,V]=(0,l.useState)(),[H,K]=(0,l.useState)(!1),[W,Y]=(0,l.useState)({mode:"create"}),[I,J]=(0,l.useState)([]),[Q,X]=(0,l.useState)(null);(0,l.useEffect)(()=>{!a&&s.length>0&&0===I.length&&s[0]&&J([s[0]])},[a,s,I.length]);let Z=G||q.length>0||L.length>0||_<5,$=(0,l.useMemo)(()=>e.filter(e=>{let s=""===G||e.name.toLowerCase().includes(G.toLowerCase())||e.category.toLowerCase().includes(G.toLowerCase()),a=0===q.length||q.some(s=>e.bodyParts.includes(s)),t=0===L.length||L.some(s=>e.equipment.includes(s)),l=e.difficulty<=_;return s&&a&&t&&l}),[e,G,q,L,_]),ee=(e,s)=>{B(e),V(s),U(!0)},es=()=>{B(void 0),V(void 0),U(!1)},ea=async e=>{e.id?await y(e):await w(e),es()},et=(e,s)=>{Y({mode:e,...s&&{name:s}}),K(!0)},el=async e=>{"create"===W.mode?await C(e):"edit"===W.mode&&W.name?await A(W.name,e):"copy"===W.mode&&W.name&&await k(W.name,e),K(!1)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(h.A,{title:"Biblioteca de Exerc\xedcios",subtitle:"Gerencie os exerc\xedcios utilizados nas prescri\xe7\xf5es da cl\xednica.",children:[(0,t.jsxs)("button",{onClick:()=>et("create"),className:"inline-flex items-center justify-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50 mr-3",children:[(0,t.jsx)(r.A,{className:"-ml-1 mr-2 h-5 w-5"}),"Novo Grupo"]}),(0,t.jsxs)("button",{onClick:()=>ee(),className:"inline-flex items-center justify-center rounded-lg border border-transparent bg-teal-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-teal-600",children:[(0,t.jsx)(r.A,{className:"-ml-1 mr-2 h-5 w-5"}),"Novo Exerc\xedcio"]})]}),(0,t.jsx)(g.A,{isOpen:T,onClose:es,onSave:ea,exerciseToEdit:D,defaultCategory:R,allCategories:s}),(0,t.jsx)(b.A,{isOpen:H,onClose:()=>K(!1),onSave:el,mode:W.mode,initialName:W.name}),(0,t.jsx)(f.A,{isOpen:!!Q,onClose:()=>X(null),videoUrl:null==Q?void 0:Q.url,title:null==Q?void 0:Q.title}),a?(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,t.jsx)(j.E,{className:"lg:col-span-1 h-96 rounded-2xl"}),(0,t.jsx)("div",{className:"lg:col-span-3 space-y-4",children:Array.from({length:3}).map((e,s)=>(0,t.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-sm",children:[(0,t.jsx)(j.E,{className:"h-8 w-1/3 mb-4"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,t.jsx)(j.E,{className:"h-48 w-full rounded-xl"}),(0,t.jsx)(j.E,{className:"h-48 w-full rounded-xl"})]})]},s))})]}):(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,t.jsx)("aside",{className:"lg:col-span-1 space-y-6",children:(0,t.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-sm",children:[(0,t.jsxs)("h3",{className:"font-bold text-slate-800 mb-4 flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"flex items-center",children:[(0,t.jsx)(c.A,{className:"w-5 h-5 mr-2"}),"Filtros"]}),Z&&(0,t.jsxs)("button",{onClick:()=>{z(""),M([]),P([]),O(5)},className:"text-xs font-semibold text-teal-600 hover:underline flex items-center",children:[(0,t.jsx)(o.A,{className:"w-3 h-3 mr-1"})," Limpar"]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-slate-700",children:"Busca por nome"}),(0,t.jsxs)("div",{className:"relative mt-1",children:[(0,t.jsx)(i.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Ex: Agachamento",value:G,onChange:e=>z(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-sm font-semibold text-slate-700",children:["N\xedvel de Dificuldade (m\xe1x. ",_,")"]}),(0,t.jsx)("input",{type:"range",min:"1",max:"5",value:_,onChange:e=>O(Number(e.target.value)),className:"w-full mt-2"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Parte do Corpo"}),(0,t.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:S.map(e=>(0,t.jsx)(N,{id:"part-".concat(e),label:e,checked:q.includes(e),onChange:s=>((e,s)=>{M(a=>s?[...a,e]:a.filter(s=>s!==e))})(e,s)},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Equipamento"}),(0,t.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:F.map(e=>(0,t.jsx)(N,{id:"equip-".concat(e),label:e,checked:L.includes(e),onChange:s=>((e,s)=>{P(a=>s?[...a,e]:a.filter(s=>s!==e))})(e,s)},e))})]})]})]})}),(0,t.jsxs)("main",{className:"lg:col-span-3 space-y-4",children:[s.map(e=>{let s=$.filter(s=>s.category===e);if(0===s.length)return null;let a=I.includes(e);return(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm transition-shadow hover:shadow-md",children:[(0,t.jsxs)("div",{className:"group flex items-center p-4 cursor-pointer",onClick:()=>(e=>{J(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])})(e),children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-slate-800 flex-1",children:[e," ",(0,t.jsxs)("span",{className:"text-base font-normal text-slate-500",children:["(",s.length,")"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("button",{onClick:()=>ee(void 0,e),className:"p-2 rounded-full hover:bg-slate-100 text-slate-600",title:"Adicionar Exerc\xedcio",children:(0,t.jsx)(r.A,{size:18})}),(0,t.jsx)("button",{onClick:()=>et("edit",e),className:"p-2 rounded-full hover:bg-slate-100 text-slate-600",title:"Renomear Grupo",children:(0,t.jsx)(n.A,{size:16})}),(0,t.jsx)("button",{onClick:()=>et("copy",e),className:"p-2 rounded-full hover:bg-slate-100 text-slate-600",title:"Copiar Grupo",children:(0,t.jsx)(d.A,{size:16})}),(0,t.jsx)("button",{onClick:()=>(e=>{window.confirm('Tem certeza que deseja excluir o grupo "'.concat(e,'" e todos os seus exerc\xedcios? Esta a\xe7\xe3o n\xe3o pode ser desfeita.'))&&E(e)})(e),className:"p-2 rounded-full hover:bg-red-50 text-red-600",title:"Excluir Grupo",children:(0,t.jsx)(m.A,{size:16})})]}),(0,t.jsx)(u.A,{className:"ml-2 w-6 h-6 text-slate-400 transition-transform ".concat(a?"rotate-180":"")})]}),a&&(0,t.jsx)("div",{className:"p-4 border-t border-slate-200",children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:s.map(e=>(0,t.jsx)(p.A,{exercise:e,onEdit:()=>ee(e),onDelete:()=>(e=>{window.confirm('Tem certeza que deseja excluir o exerc\xedcio "'.concat(e.name,'"?'))&&v(e.id)})(e),onPlay:()=>e.media.videoUrl&&X({url:e.media.videoUrl,title:e.name})},e.id))})})]},e)}),0===$.length&&(0,t.jsxs)("div",{className:"text-center p-10 bg-white rounded-2xl shadow-sm",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-700",children:"Nenhum exerc\xedcio encontrado"}),(0,t.jsx)("p",{className:"text-slate-500 mt-1",children:"Tente ajustar seus filtros para encontrar o que procura."})]})]})]})]})}},95552:(e,s,a)=>{a.d(s,{A:()=>o});var t=a(37876),l=a(14232),r=a(28249),c=a(6394);let o=e=>{let{isOpen:s,onClose:a,onSave:o,mode:i,initialName:n=""}=e,[d,m]=(0,l.useState)("");return((0,l.useEffect)(()=>{"copy"===i?m("".concat(n," (C\xf3pia)")):m(n)},[n,i,s]),s)?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:a,children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("header",{className:"flex items-center justify-between p-5 border-b border-slate-200",children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-slate-800",children:{create:"Criar Novo Grupo de Exerc\xedcios",edit:"Renomear Grupo",copy:"Copiar Grupo"}[i]}),(0,t.jsx)("button",{onClick:a,className:"p-2 rounded-full hover:bg-slate-100",children:(0,t.jsx)(r.A,{className:"w-5 h-5 text-slate-600"})})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),d.trim()&&o(d.trim())},children:[(0,t.jsxs)("main",{className:"p-6",children:[(0,t.jsx)("label",{htmlFor:"group-name",className:"text-sm font-medium text-slate-700",children:"Nome do Grupo"}),(0,t.jsx)("input",{id:"group-name",type:"text",value:d,onChange:e=>m(e.target.value),className:"mt-1 w-full p-2 border border-slate-300 rounded-lg",required:!0,autoFocus:!0}),"copy"===i&&(0,t.jsxs)("p",{className:"text-xs text-slate-500 mt-2",children:['Uma c\xf3pia de todos os exerc\xedcios do grupo "',n,'" ser\xe1 criada neste novo grupo.']})]}),(0,t.jsxs)("footer",{className:"flex justify-end items-center p-4 border-t border-slate-200 bg-slate-50 rounded-b-2xl",children:[(0,t.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 mr-2",children:"Cancelar"}),(0,t.jsxs)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 rounded-lg hover:bg-teal-600 flex items-center",children:[(0,t.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"Salvar"]})]})]})]})}):null}}}]);