"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9509],{6782:(e,t,s)=>{s.d(t,{E:()=>r});var a=s(37876),l=s(93704);function r(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-muted",t),...s})}},35880:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(37876);s(14232);let l=e=>{let{title:t,subtitle:s,children:l}=e;return(0,a.jsxs)("div",{className:"pb-8 md:flex md:items-center md:justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold leading-tight text-slate-900 tracking-tight",children:t}),(0,a.jsx)("p",{className:"mt-2 text-lg text-slate-600",children:s})]}),(0,a.jsx)("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:l})]})}},39303:(e,t,s)=>{s.d(t,{Fq:()=>i,td:()=>o,z0:()=>n});var a=s(748),l=s(87107);let r=e=>new Promise(t=>setTimeout(t,e)),n=async e=>{await r(300);let t=a.db.getTreatmentPlans().find(t=>t.patientId===e);if(t){let e=await i(t.id);return{...t,exercises:e}}},i=async e=>(await r(300),a.db.getExercisePrescriptions().filter(t=>t.treatmentPlanId===e)),o=async(e,t)=>{await r(400);let s=a.db.getTreatmentPlans(),n=s.findIndex(t=>t.patientId===e);if(n>-1){let e=s[n],r=(t.exercises||[]).map((t,s)=>({id:"ex_".concat(Date.now(),"_").concat(s),treatmentPlanId:e.id,exerciseName:t.exerciseName,sets:t.sets,repetitions:t.repetitions,resistanceLevel:"A definir",progressionCriteria:"A definir"})),i={...e,treatmentGoals:t.treatmentGoals||e.treatmentGoals,exercises:r.length>0?r:e.exercises};return a.db.updateTreatmentPlan(i),a.db.setExercisePrescriptionsForPlan(e.id,r),l.g.emit("treatmentPlans:changed"),i}throw Error("Plano de tratamento n\xe3o encontrado para este paciente.")}},43061:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(37876);s(14232);let l=e=>{let{content:t,className:s=""}=e;if(!t)return null;let l=e=>e.split(/(\*\*\*.*?\*\*\*|\*\*.*?\*\*|\*.*?\*|`.*?`|âœ…|ðŸ“‰|ðŸ’ª|ðŸ†|âš ï¸)/g).filter(Boolean).map((e,t)=>"âœ…"===e||"\uD83D\uDCC9"===e||"\uD83D\uDCAA"===e||"\uD83C\uDFC6"===e||"âš ï¸"===e?(0,a.jsx)("span",{className:"mr-2",children:e},t):e.startsWith("***")&&e.endsWith("***")?(0,a.jsx)("strong",{children:(0,a.jsx)("em",{children:e.slice(3,-3)})},t):e.startsWith("**")&&e.endsWith("**")?(0,a.jsx)("strong",{children:e.slice(2,-2)},t):e.startsWith("*")&&e.endsWith("*")?(0,a.jsx)("em",{children:e.slice(1,-1)},t):e.startsWith("`")&&e.endsWith("`")?(0,a.jsx)("code",{className:"bg-slate-200 text-slate-800 px-1 py-0.5 rounded-sm font-mono text-xs",children:e.slice(1,-1)},t):e),r=t.split("\n"),n=[],i=[],o=null,d=()=>{if(i.length>0){let e="ol"===o?"ol":"ul";n.push((0,a.jsx)(e,{className:"pl-5 space-y-1 my-3 ".concat("ol"===o?"list-decimal":"list-disc"),children:i.map((e,t)=>(0,a.jsx)("li",{children:l(e)},t))},n.length)),i=[],o=null}};return r.forEach((e,t)=>{let s=e.trim();s.startsWith("## ")?(d(),n.push((0,a.jsx)("h2",{className:"text-xl font-bold text-slate-800 mt-4 mb-2 pb-2 border-b border-slate-200",children:l(s.substring(3))},t))):s.startsWith("### ")?(d(),n.push((0,a.jsx)("h3",{className:"text-lg font-semibold text-teal-600 my-3",children:l(s.substring(4))},t))):s.startsWith(">")?(d(),n.push((0,a.jsx)("blockquote",{className:"pl-4 italic border-l-4 border-slate-300 text-slate-600 my-2",children:l(s.substring(1))},t))):s.startsWith("---")?(d(),n.push((0,a.jsx)("hr",{className:"my-6 border-slate-200"},t))):s.startsWith("- ")?("ul"!==o&&d(),o="ul",i.push(s.substring(2).trim())):s.match(/^\d+\. /)?("ol"!==o&&d(),o="ol",i.push(s.replace(/^\d+\. /,"").trim())):s&&(d(),n.push((0,a.jsx)("p",{className:"my-1 leading-relaxed",children:l(s)},t)))}),d(),(0,a.jsx)("div",{className:"text-sm text-slate-800 font-sans max-w-none prose prose-sm prose-slate ".concat(s),children:n})}},47894:(e,t,s)=>{s.d(t,{AV:()=>d,Ms:()=>u,VF:()=>o,_z:()=>a,gl:()=>c,mt:()=>n,n8:()=>l,oP:()=>r,rW:()=>i,vm:()=>m});let a=()=>Promise.resolve({treatmentGoals:[],exercises:[]}),l=()=>Promise.resolve(""),r=()=>Promise.resolve(""),n=()=>Promise.resolve(""),i=()=>Promise.resolve(""),o=()=>Promise.resolve(""),d=()=>Promise.resolve(""),c=()=>Promise.resolve(""),m=()=>Promise.resolve(""),u=()=>Promise.resolve("")},66822:(e,t,s)=>{s.d(t,{dj:()=>n}),s(37876);var a=s(14232);let l=(0,a.createContext)(void 0),r=(0,a.createContext)(void 0),n=()=>{let e=(()=>{let e=(0,a.useContext)(l);return void 0===e?{enabled:!1,logRouterChange:()=>{},logHookCall:()=>{},logContextAccess:()=>{}}:e})(),t=(0,a.useContext)(r);if(e.logContextAccess("ToastContext","useToast"),!t){let e=Error("useToast must be used within a ToastProvider");throw console.error("âŒ Toast Context Error:",e.message),e}return{showToast:t.showToast}}},67098:(e,t,s)=>{s.d(t,{A:()=>C});var a=s(37876),l=s(14232),r=s(28249),n=s(64041),i=s(79247),o=s(6394),d=s(14776),c=s(66822),m=s(27212),u=s(61886),x=s(59435),h=s(35739),g=s(32257),p=s(96887),f=s(93704),v=s(81882),b=s(12168);let y=e=>{let{onSelectPatient:t,selectedPatient:s}=e,[r,n]=(0,l.useState)(""),[i,o]=(0,l.useState)([]),[d,y]=(0,l.useState)(!1),[j,w]=(0,l.useState)(!1),[N,T]=(0,l.useState)(!1),[k,S]=(0,l.useState)(!1),P=(0,l.useRef)(null),C=(0,l.useRef)(null),{showToast:E}=(0,c.dj)(),A=(0,v.d)(r,300);(0,l.useEffect)(()=>{s&&(n(s.name),w(!1))},[s]),(0,l.useEffect)(()=>{let e=e=>{P.current&&!P.current.contains(e.target)&&w(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,l.useEffect)(()=>{(async()=>{if(A.length<2){o([]),T(!1),y(!1);return}y(!0);try{let e=await b.bW(A);o(e||[]),w(!0),T(0===e.length&&A.length>=3)}catch(e){E("Erro ao buscar pacientes.","error")}finally{y(!1)}})()},[A,E]);let D=async()=>{if(r&&!(r.length<3)){S(!0);try{let e=await b.OS(r.trim());t(e),n(e.name),w(!1),E('Paciente "'.concat(e.name,'" cadastrado!'),"success"),C.current&&(C.current.classList.add("animate-pulse-green"),setTimeout(()=>{var e;return null==(e=C.current)?void 0:e.classList.remove("animate-pulse-green")},1e3))}catch(e){E("Erro ao cadastrar paciente.","error")}finally{S(!1)}}};return(0,a.jsxs)("div",{className:"relative",ref:P,children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{ref:C,type:"text",value:r,onChange:e=>{let a=e.target.value;n(a),s&&a!==s.name&&t(null)},onFocus:()=>w(!0),placeholder:"Digite o nome ou CPF do paciente...",className:(0,f.cn)("w-full px-10 py-2 border rounded-md","focus:ring-2 focus:ring-sky-500 focus:border-transparent",s&&"border-green-500 bg-green-50")}),(0,a.jsx)(x.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsxs)(m.N,{children:[d&&(0,a.jsx)(u.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,a.jsx)(h.A,{className:"w-5 h-5 text-sky-500 animate-spin"})}),s&&!d&&(0,a.jsx)(u.P.div,{initial:{scale:0},animate:{scale:1},className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,a.jsx)(g.A,{className:"w-5 h-5 text-green-600"})})]})]}),(0,a.jsx)(m.N,{children:j&&!s&&(0,a.jsxs)(u.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute z-20 w-full mt-1 bg-white rounded-md shadow-lg border overflow-hidden max-h-60 overflow-y-auto",children:[i.length>0&&i.map(e=>(0,a.jsxs)("button",{onClick:()=>(e=>{t(e),n(e.name),w(!1),T(!1)})(e),className:"w-full px-4 py-2 hover:bg-sky-50 text-left",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.cpf})]},e.id)),N&&(0,a.jsx)(u.P.button,{initial:{opacity:0},animate:{opacity:1},onClick:D,disabled:k,className:"w-full p-3 bg-green-50 hover:bg-green-100 border-t",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[k?(0,a.jsx)(h.A,{className:"w-4 h-4 text-green-600 animate-spin"}):(0,a.jsx)(p.A,{className:"w-4 h-4 text-green-600"}),(0,a.jsx)("p",{className:"font-semibold text-sm text-gray-900",children:k?"Cadastrando...":'Cadastrar "'.concat(r,'"')})]})}),A.length>=2&&0===i.length&&!N&&!d&&(0,a.jsx)("div",{className:"p-4 text-center text-sm text-gray-500",children:"Nenhum paciente encontrado."})]})})]})};var j=s(68212),w=s(82734),N=s(89884);let T=[{label:"D",value:0},{label:"S",value:1},{label:"T",value:2},{label:"Q",value:3},{label:"Q",value:4},{label:"S",value:5},{label:"S",value:6}],k=e=>{let{recurrenceRule:t,onChange:s}=e,[r,n]=(0,l.useState)(!!t);return(0,a.jsxs)("div",{className:"p-3 bg-slate-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("label",{htmlFor:"recurring-toggle",className:"flex items-center text-sm font-medium text-slate-700 cursor-pointer",children:[(0,a.jsx)(N.A,{className:"w-4 h-4 mr-2 text-slate-400"})," Repetir Consulta"]}),(0,a.jsx)("input",{type:"checkbox",id:"recurring-toggle",checked:r,onChange:e=>(e=>{if(n(e),e){let e=new Date,t=new Date;t.setMonth(t.getMonth()+1),s({frequency:"weekly",days:[e.getDay()],until:t.toISOString().split("T")[0]})}else s(void 0)})(e.target.checked),className:"h-4 w-4 rounded border-gray-300 text-sky-600 focus:ring-sky-500"})]}),r&&t&&(0,a.jsxs)("div",{className:"mt-4 space-y-3 animate-fade-in-fast",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-semibold text-slate-600",children:"Repetir Semanalmente nos dias:"}),(0,a.jsx)("div",{className:"mt-2 flex items-center justify-between space-x-1",children:T.map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>(e=>{if(!t)return;let a=t.days.includes(e)?t.days.filter(t=>t!==e):[...t.days,e];a.length>0&&s({...t,days:a})})(e.value),className:"w-8 h-8 flex items-center justify-center rounded-full text-sm font-bold transition-colors\n                                        ".concat(t.days.includes(e.value)?"bg-sky-500 text-white":"bg-slate-200 text-slate-600 hover:bg-slate-300","\n                                    "),children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"until-date",className:"text-xs font-semibold text-slate-600",children:"At\xe9:"}),(0,a.jsx)("input",{id:"until-date",type:"date",value:t.until,onChange:e=>{t&&s({...t,until:e.target.value})},className:"mt-1 w-full p-2 border border-slate-300 rounded-lg"})]})]}),(0,a.jsx)("style",{children:"\n                @keyframes fade-in-fast {\n                    from { opacity: 0; transform: translateY(-5px); }\n                    to { opacity: 1; transform: translateY(0); }\n                }\n                .animate-fade-in-fast { animation: fade-in-fast 0.3s ease-out forwards; }\n            "})]})},S=(e,t)=>e.startTime<t.endTime&&e.endTime>t.startTime;var P=s(85154);let C=e=>{var t;let{isOpen:s,onClose:m,onSave:u,onDelete:x,appointment:h,appointmentToEdit:g,initialData:p,patients:f=[],therapists:v=[],allAppointments:b=[]}=e,[N,T]=(0,l.useState)(null),[C,E]=(0,l.useState)(d.YY.Session),[A,D]=(0,l.useState)(60),[I,H]=(0,l.useState)(""),[W,_]=(0,l.useState)(!1),[F,M]=(0,l.useState)(void 0),[Y,L]=(0,l.useState)(!1),{showToast:R}=(0,c.dj)(),G=(0,l.useRef)(null),O=(0,l.useMemo)(()=>(null==g?void 0:g.startTime)||(null==p?void 0:p.date)||new Date,[g,p]),[q,z]=(0,l.useState)((0,l.useMemo)(()=>(0,j.GP)(O,"HH:mm"),[O])),[Q,J]=(0,l.useState)((null==g?void 0:g.therapistId)||(null==p?void 0:p.therapistId)||(null==(t=v[0])?void 0:t.id)||"");(0,l.useEffect)(()=>{if(s)if(L(P.T.getSettings().teleconsultaEnabled),g)T(f.find(e=>e.id===g.patientId)||null),E(g.type),D((g.endTime.getTime()-g.startTime.getTime())/6e4),H(g.observations||""),J(g.therapistId),z((0,j.GP)(g.startTime,"HH:mm")),M(g.recurrenceRule);else{var e;T(null),E(d.YY.Session),D(60),H(""),J((null==p?void 0:p.therapistId)||(null==(e=v[0])?void 0:e.id)||""),z((0,j.GP)((null==p?void 0:p.date)||new Date,"HH:mm")),M(void 0)}},[g,p,s,f,v]),(0,l.useEffect)(()=>{let e=e=>{G.current&&!G.current.contains(e.target)&&m()};return s&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[m,s]);let U=async()=>{if(!N)return void R("Selecione um paciente para agendar.","error");_(!0);let e=new Date(O),[t,s]=q.split(":");e.setHours(parseInt(t||"0"),parseInt(s||"0"),0,0);let a=new Date(e.getTime()+6e4*A),l=(e=>{let{recurrenceRule:t}=e;if(!t||0===t.days.length){let t={...e};return delete t.recurrenceRule,[t]}let s=e.seriesId||"series_".concat(Date.now()),a=[],l=new Date(t.until);l.setHours(23,59,59,999);let r=new Date(e.startTime);r.setHours(0,0,0,0);let n=e.endTime.getTime()-e.startTime.getTime();for(;r<=l;){if(t.days.includes(r.getDay())&&r.getTime()>=new Date(e.startTime).setHours(0,0,0,0)){let t=new Date(r);t.setHours(e.startTime.getHours(),e.startTime.getMinutes());let l=new Date(t.getTime()+n);a.push({...e,id:"app_recurr_".concat(s,"_").concat(t.getTime()),startTime:t,endTime:l,seriesId:s})}r.setDate(r.getDate()+1)}return a})({id:(null==g?void 0:g.id)||"app_".concat(Date.now()),patientId:N.id,patientName:N.name,patientAvatarUrl:N.avatarUrl||"https://i.pravatar.cc/150?u=".concat(N.id),therapistId:Q,title:(null==g?void 0:g.title)||"".concat(C),startTime:e,endTime:a,status:(null==g?void 0:g.status)||d.y2.Scheduled,type:C,observations:I,value:(null==g?void 0:g.value)||120,paymentStatus:(null==g?void 0:g.paymentStatus)||"pending",recurrenceRule:F||{frequency:"weekly",days:[],until:""},seriesId:F?(null==g?void 0:g.seriesId)||"series_".concat(Date.now()):""}),r=((e,t,s)=>{let a=t.filter(e=>e.id!==s);for(let t of e){let e=a.find(e=>t.therapistId===e.therapistId&&S(t,e));if(e)return e}})(l,b,null==g?void 0:g.id);if(r){R("Conflito com o agendamento de ".concat(r.patientName," em ").concat((0,j.GP)(r.startTime,"dd/MM HH:mm"),"."),"error"),_(!1);return}let n=!0;for(let e of l)if(!await u(e)){n=!1;break}n&&m(),_(!1)};if(!s)return null;let V=g?"Editar Agendamento":"Novo Agendamento";return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{ref:G,className:"bg-white rounded-lg shadow-xl w-full max-w-lg mx-4 max-h-[90vh] flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:V}),(0,a.jsx)("button",{onClick:m,className:"p-1 hover:bg-slate-100 rounded-full transition",children:(0,a.jsx)(r.A,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"bg-sky-50 px-4 py-3 flex items-center gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.A,{className:"w-4 h-4 text-sky-600"}),(0,a.jsx)("span",{className:"font-medium",children:(0,j.GP)(O,"EEEE, d 'de' MMMM",{locale:w.F})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.A,{className:"w-4 h-4 text-sky-600"}),(0,a.jsx)("input",{type:"time",value:q,onChange:e=>z(e.target.value),className:"font-medium bg-transparent border-none p-0 focus:ring-0"})]})]}),(0,a.jsxs)("div",{className:"p-4 space-y-4 overflow-y-auto",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Paciente *"}),(0,a.jsx)(y,{onSelectPatient:T,selectedPatient:N})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Fisioterapeuta"}),(0,a.jsx)("select",{value:Q,onChange:e=>J(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-sky-500 focus:border-sky-500 text-sm",children:v.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Tipo de Atendimento"}),(0,a.jsx)("select",{value:C,onChange:e=>E(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-sky-500 focus:border-sky-500 text-sm",children:Object.values(d.YY).filter(e=>Y||e!==d.YY.Teleconsulta).map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Dura\xe7\xe3o"}),(0,a.jsx)("div",{className:"flex gap-2",children:[30,45,60].map(e=>(0,a.jsxs)("button",{onClick:()=>D(e),className:"px-4 py-2 rounded-md border transition text-sm ".concat(A===e?"bg-sky-500 text-white border-sky-500":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"),children:[e," min"]},e))})]}),!(null==g?void 0:g.seriesId)&&(0,a.jsx)(k,{recurrenceRule:F,onChange:M}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Observa\xe7\xf5es"}),(0,a.jsx)("textarea",{value:I,onChange:e=>H(e.target.value),rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-sky-500 focus:border-sky-500 text-sm",placeholder:"Observa\xe7\xf5es sobre o atendimento..."})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3 px-4 py-3 bg-slate-50 rounded-b-lg border-t",children:[(0,a.jsx)("button",{onClick:m,className:"px-4 py-2 text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-50 transition text-sm",children:"Cancelar"}),(0,a.jsxs)("button",{onClick:U,disabled:!N||W,className:"px-4 py-2 bg-sky-500 text-white rounded-md hover:bg-sky-600 disabled:opacity-50 disabled:cursor-not-allowed transition flex items-center text-sm",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 mr-2"}),W?"Salvando...":"Confirmar Agendamento"]})]})]})})}},81882:(e,t,s)=>{s.d(t,{d:()=>l});var a=s(14232);function l(e,t){let[s,l]=(0,a.useState)(e);return(0,a.useEffect)(()=>{let s=setTimeout(()=>{l(e)},t);return()=>{clearTimeout(s)}},[e,t]),s}},85154:(e,t,s)=>{s.d(t,{T:()=>i});var a=s(14776);let l="fisioflow_scheduling_settings",r={limits:{weekday:[{id:"wd1",startTime:"07:00",endTime:"13:00",limit:3},{id:"wd2",startTime:"13:00",endTime:"15:00",limit:1},{id:"wd3",startTime:"15:00",endTime:"21:00",limit:4}],saturday:[{id:"sat1",startTime:"07:00",endTime:"13:00",limit:3}]},maxEvaluationsPerSlot:1,teleconsultaEnabled:!1};class n{getSettings(){try{let e=localStorage.getItem(l);if(e){let t=JSON.parse(e);return{...r,...t}}}catch(e){console.error("Failed to parse scheduling settings from localStorage",e)}return r}saveSettings(e){try{e.limits.weekday.sort((e,t)=>e.startTime.localeCompare(t.startTime)),e.limits.saturday.sort((e,t)=>e.startTime.localeCompare(t.startTime)),localStorage.setItem(l,JSON.stringify(e))}catch(e){console.error("Failed to save scheduling settings to localStorage",e)}}getSlotOccupancy(e,t,s){let l=this.getSettings(),r=e.getDay(),n=e.toTimeString().slice(0,5),i=(6===r?l.limits.saturday:l.limits.weekday).find(e=>n>=e.startTime&&n<e.endTime)||{limit:0},o=t.filter(t=>(!s||t.id!==s)&&t.startTime.getTime()===e.getTime()),d=o.filter(e=>e.type===a.YY.Evaluation),c=o.length>=i.limit,m=d.length>=l.maxEvaluationsPerSlot;return{patientCount:o.length,patientLimit:i.limit,evalCount:d.length,evalLimit:l.maxEvaluationsPerSlot,isFull:0===i.limit||c,isPatientLimitFull:0===i.limit||c,isEvalLimitFull:m}}}let i=new n},93704:(e,t,s)=>{s.d(t,{cn:()=>r});var a=s(69241),l=s(29573);function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.QP)((0,a.$)(t))}}}]);