(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5302],{16075:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(17963).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},33084:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/TwoFactorSetupPage",function(){return s(65943)}])},54410:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(17963).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},65943:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>N});var t=s(37876),c=s(14232),i=s(54410),r=s(93784),l=s(17963);let d=(0,l.A)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);var n=s(83981),o=s(74206),h=s(89926),x=s(16075);let m=(0,l.A)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);var u=s(45977),p=s(34379),j=s(47489),g=s(28077),y=s(73391);let N=e=>{let{onComplete:a,onBack:s}=e,{setup2FA:l,verify2FA:N,error:f,clearError:v}=(0,u.W6)(),[w,b]=(0,c.useState)("setup"),[k,A]=(0,c.useState)(""),[C,F]=(0,c.useState)(""),[_,R]=(0,c.useState)([]),[S,T]=(0,c.useState)(""),[M,V]=(0,c.useState)(""),[B,z]=(0,c.useState)(!1),[E,L]=(0,c.useState)(!1),$=async()=>{z(!0),v();try{let e=await l();A(e.qrCode),F(e.secret),R(e.backupCodes),b("verify")}catch(e){console.error("2FA setup error:",e)}finally{z(!1)}},O=async()=>{if(S&&6===S.length){z(!0),v();try{await N(M,S),b("complete")}catch(e){console.error("2FA verification error:",e)}finally{z(!1)}}},Z=async()=>{try{await navigator.clipboard.writeText(C),L(!0),setTimeout(()=>L(!1),2e3)}catch(e){console.error("Failed to copy secret:",e)}};return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,t.jsx)("div",{className:"bg-white p-3 rounded-full shadow-lg",children:(0,t.jsx)(i.A,{className:"w-8 h-8 text-indigo-600"})})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Configurar Autentica\xe7\xe3o de Dois Fatores"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Adicione uma camada extra de seguran\xe7a \xe0 sua conta"})]}),f&&(0,t.jsxs)(y.Fc,{variant:"destructive",children:[(0,t.jsx)(r.A,{className:"h-4 w-4"}),(0,t.jsx)(y.TN,{children:f})]}),"setup"===w&&(0,t.jsxs)(g.Zp,{className:"shadow-xl border-0",children:[(0,t.jsxs)(g.aR,{children:[(0,t.jsxs)(g.ZB,{className:"flex items-center",children:[(0,t.jsx)(d,{className:"w-5 h-5 mr-2"}),"Configurar 2FA"]}),(0,t.jsx)(g.BT,{children:"Use um aplicativo autenticador para gerar c\xf3digos de seguran\xe7a"})]}),(0,t.jsx)(g.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-medium text-blue-900 mb-2",children:"Aplicativos Recomendados:"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,t.jsx)("li",{children:"• Google Authenticator"}),(0,t.jsx)("li",{children:"• Microsoft Authenticator"}),(0,t.jsx)("li",{children:"• Authy"}),(0,t.jsx)("li",{children:"• 1Password"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900",children:"Como configurar:"}),(0,t.jsxs)("ol",{className:"text-sm text-gray-600 space-y-1 pl-4",children:[(0,t.jsx)("li",{children:"1. Instale um aplicativo autenticador"}),(0,t.jsx)("li",{children:'2. Clique em "Configurar" abaixo'}),(0,t.jsx)("li",{children:"3. Escaneie o c\xf3digo QR com o app"}),(0,t.jsx)("li",{children:"4. Digite o c\xf3digo de 6 d\xedgitos para verificar"})]})]}),(0,t.jsx)(p.$,{onClick:$,className:"w-full",disabled:B,children:B?"Configurando...":"Configurar 2FA"})]})})]}),"verify"===w&&(0,t.jsxs)(g.Zp,{className:"shadow-xl border-0",children:[(0,t.jsxs)(g.aR,{children:[(0,t.jsx)(g.ZB,{children:"Verificar Configura\xe7\xe3o"}),(0,t.jsx)(g.BT,{children:"Escaneie o c\xf3digo QR e digite o c\xf3digo de verifica\xe7\xe3o"})]}),(0,t.jsxs)(g.Wu,{className:"space-y-4",children:[k&&(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("div",{className:"bg-white p-4 rounded-lg border-2 border-gray-200 inline-block",children:(0,t.jsx)("img",{src:k,alt:"QR Code para 2FA",className:"w-48 h-48"})})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Ou digite manualmente:"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(j.p,{value:C,readOnly:!0,className:"font-mono text-xs"}),(0,t.jsx)(p.$,{type:"button",variant:"outline",size:"icon",onClick:Z,children:E?(0,t.jsx)(n.A,{className:"h-4 w-4 text-green-600"}):(0,t.jsx)(o.A,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"verification-code",className:"text-sm font-medium text-gray-700",children:"C\xf3digo de Verifica\xe7\xe3o"}),(0,t.jsx)(j.p,{id:"verification-code",type:"text",value:S,onChange:e=>T(e.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",className:"text-center text-lg font-mono tracking-widest",maxLength:6})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsxs)(p.$,{type:"button",variant:"outline",onClick:()=>b("setup"),className:"flex-1",children:[(0,t.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"Voltar"]}),(0,t.jsx)(p.$,{onClick:O,disabled:6!==S.length||B,className:"flex-1",children:B?"Verificando...":"Verificar"})]})]})]}),"complete"===w&&(0,t.jsxs)(g.Zp,{className:"shadow-xl border-0",children:[(0,t.jsxs)(g.aR,{children:[(0,t.jsxs)(g.ZB,{className:"flex items-center text-green-600",children:[(0,t.jsx)(n.A,{className:"w-5 h-5 mr-2"}),"2FA Configurado com Sucesso!"]}),(0,t.jsx)(g.BT,{children:"Sua conta agora est\xe1 protegida com autentica\xe7\xe3o de dois fatores"})]}),(0,t.jsxs)(g.Wu,{className:"space-y-4",children:[_.length>0&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900",children:"C\xf3digos de Backup"}),(0,t.jsxs)(p.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{let e=new Blob([_.join("\n")],{type:"text/plain"}),a=URL.createObjectURL(e),s=document.createElement("a");s.href=a,s.download="backup-codes.txt",s.click(),URL.revokeObjectURL(a)},children:[(0,t.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Baixar"]})]}),(0,t.jsxs)(y.Fc,{variant:"warning",children:[(0,t.jsx)(m,{className:"h-4 w-4"}),(0,t.jsx)(y.TN,{children:"Guarde estes c\xf3digos em local seguro. Voc\xea pode us\xe1-los para acessar sua conta se perder acesso ao aplicativo autenticador."})]}),(0,t.jsx)("div",{className:"bg-gray-50 p-3 rounded-lg",children:(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2 text-sm font-mono",children:_.map((e,a)=>(0,t.jsx)("div",{className:"p-2 bg-white rounded border",children:e},a))})})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)(y.Fc,{variant:"success",children:[(0,t.jsx)(n.A,{className:"h-4 w-4"}),(0,t.jsx)(y.TN,{children:"A partir de agora, voc\xea precisar\xe1 do c\xf3digo do seu aplicativo autenticador para fazer login."})]}),(0,t.jsx)(p.$,{onClick:a,className:"w-full",children:"Continuar para o Dashboard"})]})]})]}),"setup"===w&&s&&(0,t.jsxs)(p.$,{type:"button",variant:"ghost",onClick:s,className:"w-full",children:[(0,t.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"Voltar para Login"]})]})})}},74206:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(17963).A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},83981:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(17963).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},89926:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(17963).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},93784:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(17963).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])}},e=>{e.O(0,[2749,5898,2170,5977,1750,636,6593,8792],()=>e(e.s=33084)),_N_E=e.O()}]);