(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1267],{9552:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(17963).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},12572:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(17963).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},17963:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(14232);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:h,...x}=e;return(0,r.createElement)("svg",{ref:t,...i,width:a,height:a,stroke:s,strokeWidth:o?24*Number(l)/Number(a):l,className:n("lucide",d),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(x)&&{"aria-hidden":"true"},...x},[...h.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(c)?c:[c]])}),o=(e,t)=>{let s=(0,r.forwardRef)((s,i)=>{let{className:o,...d}=s;return(0,r.createElement)(l,{ref:i,iconNode:t,className:n("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...d})});return s.displayName=a(e),s}},21355:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(17963).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},29466:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(17963).A)("chart-line",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]])},32836:(e,t,s)=>{"use strict";s.d(t,{A:()=>x});var r=s(37876);s(14232);var a=s(34007),n=s(45907),i=s(4069),l=s(40570),o=s(25493),d=s(39493),c=s(3858),h=s(27217);let x=e=>{let{painLogs:t}=e,s=t.map(e=>({name:new Date(e.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),"N\xedvel de Dor":e.intensity,notes:e.description})).sort((e,t)=>new Date(e.name.split("/").reverse().join("-")).getTime()-new Date(t.name.split("/").reverse().join("-")).getTime());return(0,r.jsx)("div",{className:"h-64",children:(0,r.jsx)(a.u,{width:"100%",height:"100%",children:(0,r.jsxs)(n.b,{data:s,margin:{top:5,right:20,left:-10,bottom:5},children:[(0,r.jsx)(i.d,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),(0,r.jsx)(l.W,{dataKey:"name",stroke:"#64748b",fontSize:12}),(0,r.jsx)(o.h,{domain:[0,10],stroke:"#64748b",fontSize:12}),(0,r.jsx)(d.m,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"0.5rem"},labelStyle:{color:"#1e293b",fontWeight:"bold"}}),(0,r.jsx)(c.s,{wrapperStyle:{fontSize:"12px"}}),(0,r.jsx)(h.N,{type:"monotone",dataKey:"N\xedvel de Dor",stroke:"#ef4444",strokeWidth:2,activeDot:{r:8}})]})})})}},35880:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(37876);s(14232);let a=e=>{let{title:t,subtitle:s,children:a}=e;return(0,r.jsxs)("div",{className:"pb-8 md:flex md:items-center md:justify-between",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold leading-tight text-slate-900 tracking-tight",children:t}),(0,r.jsx)("p",{className:"mt-2 text-lg text-slate-600",children:s})]}),(0,r.jsx)("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:a})]})}},43099:(e,t,s)=>{"use strict";s.d(t,{Gp:()=>d,OL:()=>l,Up:()=>i,VN:()=>c,bV:()=>o});var r=s(66766);let a=[...r.Ef],n=e=>new Promise(t=>setTimeout(t,e)),i=async()=>(await n(300),[...a]),l=async e=>{if(await n(400),e.id){let t=a.findIndex(t=>t.id===e.id);if(t>-1){let s={...a[t],...e};return a[t]=s,s}throw Error("Partner not found")}{let t={id:"partner_".concat(Date.now()),...e,avatarUrl:"https://i.pravatar.cc/150?u=".concat(e.userId)};return a.push(t),t}},o=async(e,t,s)=>{await n(600);let a=r.Nk.find(e=>e.id===s);if(!a)throw Error("Plano n\xe3o encontrado.");let i=new Date,l=new Date;l.setDate(i.getDate()+a.durationDays);let o={id:"voucher_".concat(Date.now()),code:"VF-CLINIC-".concat(Math.random().toString(36).substr(2,6).toUpperCase()),patientId:e,plan:a,status:"activated",purchaseDate:i,activationDate:i,expiryDate:l,remainingCredits:a.credits};return r.XM.unshift(o),o},d=async e=>{await n(500);let t=[];for(let e of r.XM){let s=r.N.find(t=>t.id===e.patientId);s&&t.push({patient:s,voucher:e})}return t},c=async(e,t)=>{await n(700);let s=r.XM.find(t=>t.patientId===e),a=r.N.find(t=>t.id===e);return s&&a?{patient:a,voucher:s,soapNotes:r.Tf.filter(t=>t.patientId===e)}:null}},45705:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var r=s(37876),a=s(14232),n=s(88307),i=s(14952),l=s(35880),o=s(43099),d=s(41547),c=s(88635),h=s(66822),x=s(9552),m=s(12572),u=s(29466),p=s(21355);let f=(0,s(17963).A)("notebook",[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M16 2v20",key:"rotuqe"}]]);var g=s(95857),j=s(32836);let v=e=>{let{note:t}=e;return(0,r.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200",children:[(0,r.jsx)("div",{className:"flex justify-between items-start mb-2",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"font-bold text-sm text-slate-700",children:["Nota Cl\xednica - ",t.date]}),(0,r.jsxs)("p",{className:"text-xs text-slate-500",children:["Por: ",t.therapist]})]})}),(0,r.jsxs)("p",{className:"text-xs text-slate-600",children:[(0,r.jsx)("strong",{className:"font-semibold text-slate-800",children:"S:"})," ",t.subjective]}),(0,r.jsxs)("p",{className:"text-xs text-slate-600",children:[(0,r.jsx)("strong",{className:"font-semibold text-slate-800",children:"A:"})," ",t.assessment]})]})},b=()=>{let{id:e}=n.g(),{user:t}=(0,d.As)(),{showToast:s}=(0,h.dj)(),[b,w]=(0,a.useState)(!0),[y,N]=(0,a.useState)(null);if((0,a.useEffect)(()=>{(async()=>{if(e&&t){w(!0);try{let s=await o.VN(e,t.id);N(s)}catch(e){s("Erro ao carregar dados do cliente.","error")}finally{w(!1)}}})()},[e,t,s]),b)return(0,r.jsx)(c.A,{});if(!y)return(0,r.jsx)("div",{className:"text-center p-10",children:"Cliente n\xe3o encontrado."});let{patient:k,voucher:A,soapNotes:C}=y;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.A,{title:k.name,subtitle:"Plano: ".concat(A.plan.name),children:(0,r.jsxs)(i.N_,{to:"/partner/clients",className:"inline-flex items-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50",children:[(0,r.jsx)(x.A,{className:"-ml-1 mr-2 h-5 w-5"}),"Voltar para a Lista"]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,r.jsx)(g.A,{title:"Informa\xe7\xf5es do Paciente",icon:(0,r.jsx)(m.A,{}),children:(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Email:"})," ",k.email]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Telefone:"})," ",k.phone]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Status:"})," ",(0,r.jsx)("span",{className:"font-semibold text-green-700",children:k.status})]})]})}),(0,r.jsx)(g.A,{title:"Di\xe1rio de Dor",icon:(0,r.jsx)(u.A,{}),children:k.painPoints&&k.painPoints.length>0?(0,r.jsx)(j.A,{painLogs:k.painPoints}):(0,r.jsx)("p",{className:"text-sm text-slate-500",children:"Nenhum registro de dor."})})]}),(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,r.jsx)(g.A,{title:"Hist\xf3rico Relevante de Fisioterapia",icon:(0,r.jsx)(p.A,{}),children:(0,r.jsx)("div",{className:"space-y-3 max-h-64 overflow-y-auto pr-2",children:C.length>0?C.map(e=>(0,r.jsx)(v,{note:e},e.id)):(0,r.jsx)("p",{className:"text-sm text-slate-500",children:"Nenhuma nota cl\xednica encontrada."})})}),(0,r.jsxs)(g.A,{title:"Plano de Treino e Anota\xe7\xf5es",icon:(0,r.jsx)(f,{}),children:[(0,r.jsx)("textarea",{rows:8,className:"w-full p-2 border border-slate-300 rounded-lg text-sm",placeholder:"Digite aqui o plano de treino, observa\xe7\xf5es e anota\xe7\xf5es sobre este cliente..."}),(0,r.jsx)("div",{className:"text-right mt-2",children:(0,r.jsx)("button",{className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 rounded-lg hover:bg-teal-600",children:"Salvar Anota\xe7\xf5es"})})]})]})]})]})}},53984:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/partner-portal/ClientDetailPage",function(){return s(45705)}])},66822:(e,t,s)=>{"use strict";s.d(t,{dj:()=>i}),s(37876);var r=s(14232);let a=(0,r.createContext)(void 0),n=(0,r.createContext)(void 0),i=()=>{let e=(()=>{let e=(0,r.useContext)(a);return void 0===e?{enabled:!1,logRouterChange:()=>{},logHookCall:()=>{},logContextAccess:()=>{}}:e})(),t=(0,r.useContext)(n);if(e.logContextAccess("ToastContext","useToast"),!t){let e=Error("useToast must be used within a ToastProvider");throw console.error("âŒ Toast Context Error:",e.message),e}return{showToast:t.showToast}}},69241:(e,t,s)=>{"use strict";function r(){for(var e,t,s=0,r="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=function e(t){var s,r,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t)){var n=t.length;for(s=0;s<n;s++)t[s]&&(r=e(t[s]))&&(a&&(a+=" "),a+=r)}else for(r in t)t[r]&&(a&&(a+=" "),a+=r);return a}(e))&&(r&&(r+=" "),r+=t);return r}s.d(t,{$:()=>r})},95857:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(37876);s(14232);let a=e=>{let{title:t,icon:s,children:a,actionButton:n}=e;return(0,r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm h-full flex flex-col border border-slate-200/80",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[s&&(0,r.jsx)("span",{className:"mr-3 text-sky-500",children:s}),t]}),n]}),(0,r.jsx)("div",{className:"flex-grow",children:a})]})}}},e=>{e.O(0,[3796,5898,2170,8307,2104,131,4952,5017,6766,5977,1547,636,6593,8792],()=>e(e.s=53984)),_N_E=e.O()}]);