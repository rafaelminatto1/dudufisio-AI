(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8352,9605],{368:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17963).A)("stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]])},6782:(e,t,s)=>{"use strict";s.d(t,{E:()=>l});var a=s(37876),r=s(93704);function l(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",t),...s})}},16653:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17963).A)("frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]])},17963:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(14232);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:m,...h}=e;return(0,a.createElement)("svg",{ref:t,...i,width:r,height:r,stroke:s,strokeWidth:o?24*Number(n)/Number(r):n,className:l("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let s=(0,a.forwardRef)((s,i)=>{let{className:o,...c}=s;return(0,a.createElement)(n,{ref:i,iconNode:t,className:l("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...c})});return s.displayName=r(e),s}},29466:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17963).A)("chart-line",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]])},35880:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(37876);s(14232);let r=e=>{let{title:t,subtitle:s,children:r}=e;return(0,a.jsxs)("div",{className:"pb-8 md:flex md:items-center md:justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold leading-tight text-slate-900 tracking-tight",children:t}),(0,a.jsx)("p",{className:"mt-2 text-lg text-slate-600",children:s})]}),(0,a.jsx)("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:r})]})}},36867:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17963).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},39194:(e,t,s)=>{"use strict";s.d(t,{Cq:()=>o,gp:()=>n,lV:()=>i});var a=s(748),r=s(87107);let l=e=>new Promise(t=>setTimeout(t,e)),i=async e=>(await l(300),[...a.db.getSoapNotes()].filter(t=>t.patientId===e).sort((e,t)=>new Date(t.date.split("/").reverse().join("-")).getTime()-new Date(e.date.split("/").reverse().join("-")).getTime())),n=async(e,t)=>{await l(400);let s={id:"note_".concat(Date.now()),patientId:e,therapist:"Dr. Roberto",...t};return a.db.saveSoapNote(s),r.g.emit("notes:changed"),s},o=async e=>{let t;return await l(300),t=e.id?{...a.db.getSoapNotes().find(t=>t.id===e.id),...e}:{id:"note_".concat(Date.now()),therapist:"Dr. Roberto",date:new Date().toLocaleDateString("pt-BR"),subjective:"",objective:"",assessment:"",plan:"",...e},a.db.saveSoapNote(t),r.g.emit("notes:changed"),t}},41180:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17963).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},43061:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(37876);s(14232);let r=e=>{let{content:t,className:s=""}=e;if(!t)return null;let r=e=>e.split(/(\*\*\*.*?\*\*\*|\*\*.*?\*\*|\*.*?\*|`.*?`|âœ…|ðŸ“‰|ðŸ’ª|ðŸ†|âš ï¸)/g).filter(Boolean).map((e,t)=>"âœ…"===e||"\uD83D\uDCC9"===e||"\uD83D\uDCAA"===e||"\uD83C\uDFC6"===e||"âš ï¸"===e?(0,a.jsx)("span",{className:"mr-2",children:e},t):e.startsWith("***")&&e.endsWith("***")?(0,a.jsx)("strong",{children:(0,a.jsx)("em",{children:e.slice(3,-3)})},t):e.startsWith("**")&&e.endsWith("**")?(0,a.jsx)("strong",{children:e.slice(2,-2)},t):e.startsWith("*")&&e.endsWith("*")?(0,a.jsx)("em",{children:e.slice(1,-1)},t):e.startsWith("`")&&e.endsWith("`")?(0,a.jsx)("code",{className:"bg-slate-200 text-slate-800 px-1 py-0.5 rounded-sm font-mono text-xs",children:e.slice(1,-1)},t):e),l=t.split("\n"),i=[],n=[],o=null,c=()=>{if(n.length>0){let e="ol"===o?"ol":"ul";i.push((0,a.jsx)(e,{className:"pl-5 space-y-1 my-3 ".concat("ol"===o?"list-decimal":"list-disc"),children:n.map((e,t)=>(0,a.jsx)("li",{children:r(e)},t))},i.length)),n=[],o=null}};return l.forEach((e,t)=>{let s=e.trim();s.startsWith("## ")?(c(),i.push((0,a.jsx)("h2",{className:"text-xl font-bold text-slate-800 mt-4 mb-2 pb-2 border-b border-slate-200",children:r(s.substring(3))},t))):s.startsWith("### ")?(c(),i.push((0,a.jsx)("h3",{className:"text-lg font-semibold text-teal-600 my-3",children:r(s.substring(4))},t))):s.startsWith(">")?(c(),i.push((0,a.jsx)("blockquote",{className:"pl-4 italic border-l-4 border-slate-300 text-slate-600 my-2",children:r(s.substring(1))},t))):s.startsWith("---")?(c(),i.push((0,a.jsx)("hr",{className:"my-6 border-slate-200"},t))):s.startsWith("- ")?("ul"!==o&&c(),o="ul",n.push(s.substring(2).trim())):s.match(/^\d+\. /)?("ol"!==o&&c(),o="ol",n.push(s.replace(/^\d+\. /,"").trim())):s&&(c(),i.push((0,a.jsx)("p",{className:"my-1 leading-relaxed",children:r(s)},t)))}),c(),(0,a.jsx)("div",{className:"text-sm text-slate-800 font-sans max-w-none prose prose-sm prose-slate ".concat(s),children:i})}},47894:(e,t,s)=>{"use strict";s.d(t,{AV:()=>c,Ms:()=>h,VF:()=>o,_z:()=>a,gl:()=>d,mt:()=>i,n8:()=>r,oP:()=>l,rW:()=>n,vm:()=>m});let a=()=>Promise.resolve({treatmentGoals:[],exercises:[]}),r=()=>Promise.resolve(""),l=()=>Promise.resolve(""),i=()=>Promise.resolve(""),n=()=>Promise.resolve(""),o=()=>Promise.resolve(""),c=()=>Promise.resolve(""),d=()=>Promise.resolve(""),m=()=>Promise.resolve(""),h=()=>Promise.resolve("")},50008:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/patient-portal/PatientProgressPage",function(){return s(62560)}])},56244:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17963).A)("chart-no-axes-column-increasing",[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]])},62560:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>W});var a=s(37876),r=s(14232),l=s(35880),i=s(41547),n=s(39194),o=s(12168),c=s(47894),d=s(66822),m=s(6782),h=s(41180),u=s(56244),x=s(16653),p=s(69263),g=s(94841);let v=(0,s(17963).A)("laugh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M18 13a6 6 0 0 1-6 5 6 6 0 0 1-6-5h12Z",key:"b2q4dd"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);var b=s(43061),y=s(34007),j=s(45907),f=s(4069),N=s(40570),w=s(25493),k=s(39493),A=s(27217),E=s(95857),C=s(29466);let P=e=>{let{metric:t,notes:s}=e,l=(0,r.useMemo)(()=>s.filter(e=>{var s;return null==(s=e.metricResults)?void 0:s.some(e=>e.metricId===t.id)}).map(e=>({date:e.date,value:e.metricResults.find(e=>e.metricId===t.id).value})).sort((e,t)=>new Date(e.date.split("/").reverse().join("-")).getTime()-new Date(t.date.split("/").reverse().join("-")).getTime()),[t.id,s]);return l.length<2?null:(0,a.jsx)(E.A,{title:"Sua Evolu\xe7\xe3o: ".concat(t.name),icon:(0,a.jsx)(C.A,{}),children:(0,a.jsx)("div",{className:"h-64 -ml-4",children:(0,a.jsx)(y.u,{width:"100%",height:"100%",children:(0,a.jsxs)(j.b,{data:l,margin:{top:5,right:20,left:0,bottom:5},children:[(0,a.jsx)(f.d,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),(0,a.jsx)(N.W,{dataKey:"date",stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1}),(0,a.jsx)(w.h,{stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1,domain:["dataMin - 1","dataMax + 1"],unit:t.unit?" ".concat(t.unit):""}),(0,a.jsx)(k.m,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"0.5rem"},labelStyle:{color:"#1e293b",fontWeight:"bold"},formatter:e=>["".concat(e," ").concat(t.unit||""),t.name]}),(0,a.jsx)(A.N,{type:"monotone",dataKey:"value",name:"Seu Resultado",stroke:"#14b8a6",strokeWidth:2,dot:{r:4,fill:"#14b8a6"},activeDot:{r:8,stroke:"#14b8a6",fill:"#fff",strokeWidth:2}})]})})})})},_=()=>(0,a.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-sm animate-pulse",children:[(0,a.jsx)(m.E,{className:"h-8 w-3/4 mb-4"}),(0,a.jsx)(m.E,{className:"h-5 w-full"}),(0,a.jsx)(m.E,{className:"h-5 w-5/6 mt-2"}),(0,a.jsx)("hr",{className:"my-6 border-slate-200"}),(0,a.jsx)(m.E,{className:"h-7 w-1/2 mb-4"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(m.E,{className:"h-5 w-1/4 mb-2"}),(0,a.jsx)(m.E,{className:"h-4 w-full mb-1"}),(0,a.jsx)(m.E,{className:"h-4 w-full mb-1"}),(0,a.jsx)(m.E,{className:"h-6 w-3/4 mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m.E,{className:"h-5 w-1/4 mb-2"}),(0,a.jsx)(m.E,{className:"h-4 w-full mb-1"}),(0,a.jsx)(m.E,{className:"h-4 w-full mb-1"})]})]}),(0,a.jsx)(m.E,{className:"h-7 w-1/2 mt-8 mb-4"}),(0,a.jsx)(m.E,{className:"h-12 w-full"})]}),W=()=>{var e;let{user:t}=(0,i.As)(),{showToast:s}=(0,d.dj)(),[m,y]=(0,r.useState)(!0),[j,f]=(0,r.useState)(""),[N,w]=(0,r.useState)(null),[k,A]=(0,r.useState)(null),[E,C]=(0,r.useState)([]);(0,r.useEffect)(()=>{(async()=>{if(!(null==t?void 0:t.patientId))return y(!1);y(!0);try{var e,a;let[s,r]=await Promise.all([o.mQ(t.patientId),n.lV(t.patientId)]);if(!s)throw Error("Patient data not found.");if(A(s),C(r),r.length<2){f("## Ol\xe1!\n\nVoc\xea precisa de pelo menos uma avalia\xe7\xe3o inicial e uma sess\xe3o de acompanhamento para ver seu progresso. Continue com seu tratamento e em breve seus resultados aparecer\xe3o aqui!"),y(!1);return}let l=r[r.length-1],i=r[0];if(!l||!i)return void f("Dados insuficientes para gerar sum\xe1rio de progresso.");let d={nome_paciente:t.name.split(" ")[0]||t.name,dor_inicial:(null==(e=l.painScale)?void 0:e.toString())||"N/A",dor_atual:(null==(a=i.painScale)?void 0:a.toString())||"N/A",limitacao_inicial:l.subjective||"N/A",status_atual:i.assessment||"N/A",conquista_recente:i.subjective||"N/A",nome_fisio:i.therapist||"N/A"},m=await (0,c.AV)(d);f(m)}catch(e){console.error(e),s("N\xe3o foi poss\xedvel gerar seu resumo de progresso.","error"),f("Ocorreu um erro ao buscar seus dados. Por favor, tente novamente mais tarde.")}finally{y(!1)}})()},[t,s]);let W=e=>{w(e),s("Obrigado pelo seu feedback!","success")},M=(null==k||null==(e=k.trackedMetrics)?void 0:e.filter(e=>e.isActive))||[];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.A,{title:"Meu Progresso",subtitle:"Veja sua jornada de recupera\xe7\xe3o de forma clara e motivadora."}),m?(0,a.jsx)(_,{}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)("div",{className:"bg-white p-6 md:p-8 rounded-2xl shadow-sm",children:j?(0,a.jsx)(b.A,{content:j,className:"text-md"}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(h.A,{className:"w-16 h-16 mx-auto text-slate-300"}),(0,a.jsx)("h3",{className:"mt-4 text-lg font-semibold text-slate-700",children:"Acompanhamento Indispon\xedvel"}),(0,a.jsx)("p",{className:"mt-1 text-slate-500",children:"N\xe3o foi poss\xedvel carregar seu resumo de progresso."})]})}),M.length>0&&E.length>1&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-slate-800 mb-4 flex items-center",children:[(0,a.jsx)(u.A,{className:"w-6 h-6 mr-3 text-sky-500"})," Evolu\xe7\xe3o das M\xe9tricas"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:M.map(e=>(0,a.jsx)(P,{metric:e,notes:E},e.id))})]}),(0,a.jsx)("div",{className:"bg-white p-6 md:p-8 rounded-2xl shadow-sm",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-slate-800",children:"Como voc\xea se sente sobre sua evolu\xe7\xe3o?"}),(0,a.jsxs)("div",{className:"mt-4 flex justify-center items-center space-x-2 md:space-x-4",children:[(0,a.jsx)("button",{onClick:()=>W("\uD83D\uDE1E"),className:"p-3 md:p-4 rounded-full transition-transform transform hover:scale-110 ".concat("\uD83D\uDE1E"===N?"bg-red-200 ring-2 ring-red-400":"bg-slate-100 hover:bg-slate-200"),children:(0,a.jsx)(x.A,{className:"w-8 h-8 md:w-10 md:h-10 text-red-500"})}),(0,a.jsx)("button",{onClick:()=>W("\uD83D\uDE10"),className:"p-3 md:p-4 rounded-full transition-transform transform hover:scale-110 ".concat("\uD83D\uDE10"===N?"bg-amber-200 ring-2 ring-amber-400":"bg-slate-100 hover:bg-slate-200"),children:(0,a.jsx)(p.A,{className:"w-8 h-8 md:w-10 md:h-10 text-amber-500"})}),(0,a.jsx)("button",{onClick:()=>W("\uD83D\uDE0A"),className:"p-3 md:p-4 rounded-full transition-transform transform hover:scale-110 ".concat("\uD83D\uDE0A"===N?"bg-sky-200 ring-2 ring-sky-400":"bg-slate-100 hover:bg-slate-200"),children:(0,a.jsx)(g.A,{className:"w-8 h-8 md:w-10 md:h-10 text-sky-500"})}),(0,a.jsx)("button",{onClick:()=>W("\uD83D\uDE04"),className:"p-3 md:p-4 rounded-full transition-transform transform hover:scale-110 ".concat("\uD83D\uDE04"===N?"bg-green-200 ring-2 ring-green-400":"bg-slate-100 hover:bg-slate-200"),children:(0,a.jsx)(v,{className:"w-8 h-8 md:w-10 md:h-10 text-green-500"})})]})]})})]})]})}},66822:(e,t,s)=>{"use strict";s.d(t,{dj:()=>i}),s(37876);var a=s(14232);let r=(0,a.createContext)(void 0),l=(0,a.createContext)(void 0),i=()=>{let e=(()=>{let e=(0,a.useContext)(r);return void 0===e?{enabled:!1,logRouterChange:()=>{},logHookCall:()=>{},logContextAccess:()=>{}}:e})(),t=(0,a.useContext)(l);if(e.logContextAccess("ToastContext","useToast"),!t){let e=Error("useToast must be used within a ToastProvider");throw console.error("âŒ Toast Context Error:",e.message),e}return{showToast:t.showToast}}},69263:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17963).A)("meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]])},93704:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var a=s(69241),r=s(29573);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},94841:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17963).A)("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]])},95857:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(37876);s(14232);let r=e=>{let{title:t,icon:s,children:r,actionButton:l}=e;return(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm h-full flex flex-col border border-slate-200/80",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[s&&(0,a.jsx)("span",{className:"mr-3 text-sky-500",children:s}),t]}),l]}),(0,a.jsx)("div",{className:"flex-grow",children:r})]})}}},e=>{e.O(0,[2749,5898,2170,2104,131,6766,5977,1547,636,6593,8792],()=>e(e.s=50008)),_N_E=e.O()}]);