(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3903],{6782:(e,t,s)=>{"use strict";s.d(t,{E:()=>l});var a=s(37876),r=s(93704);function l(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",t),...s})}},8728:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17963).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},17963:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var a=s(14232);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:n="",children:c,iconNode:m,...h}=e;return(0,a.createElement)("svg",{ref:t,...i,width:r,height:r,stroke:s,strokeWidth:d?24*Number(o)/Number(r):o,className:l("lucide",n),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(c)?c:[c]])}),d=(e,t)=>{let s=(0,a.forwardRef)((s,i)=>{let{className:d,...n}=s;return(0,a.createElement)(o,{ref:i,iconNode:t,className:l("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),d),...n})});return s.displayName=r(e),s}},18550:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/InactivePatientEmailPage",function(){return s(89751)}])},32257:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17963).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},35880:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(37876);s(14232);let r=e=>{let{title:t,subtitle:s,children:r}=e;return(0,a.jsxs)("div",{className:"pb-8 md:flex md:items-center md:justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold leading-tight text-slate-900 tracking-tight",children:t}),(0,a.jsx)("p",{className:"mt-2 text-lg text-slate-600",children:s})]}),(0,a.jsx)("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:r})]})}},47894:(e,t,s)=>{"use strict";s.d(t,{AV:()=>n,Ms:()=>h,VF:()=>d,_z:()=>a,gl:()=>c,mt:()=>i,n8:()=>r,oP:()=>l,rW:()=>o,vm:()=>m});let a=()=>Promise.resolve({treatmentGoals:[],exercises:[]}),r=()=>Promise.resolve(""),l=()=>Promise.resolve(""),i=()=>Promise.resolve(""),o=()=>Promise.resolve(""),d=()=>Promise.resolve(""),n=()=>Promise.resolve(""),c=()=>Promise.resolve(""),m=()=>Promise.resolve(""),h=()=>Promise.resolve("")},61052:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17963).A)("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},66822:(e,t,s)=>{"use strict";s.d(t,{dj:()=>i}),s(37876);var a=s(14232);let r=(0,a.createContext)(void 0),l=(0,a.createContext)(void 0),i=()=>{let e=(()=>{let e=(0,a.useContext)(r);return void 0===e?{enabled:!1,logRouterChange:()=>{},logHookCall:()=>{},logContextAccess:()=>{}}:e})(),t=(0,a.useContext)(l);if(e.logContextAccess("ToastContext","useToast"),!t){let e=Error("useToast must be used within a ToastProvider");throw console.error("❌ Toast Context Error:",e.message),e}return{showToast:t.showToast}}},73884:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17963).A)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},89751:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(37876),r=s(14232),l=s(47894),i=s(35880),o=s(61052),d=s(73884),n=s(32257),c=s(99707),m=s(8728),h=s(66822),u=s(6782);let x=()=>{let[e,t]=(0,r.useState)("90"),[s,x]=(0,r.useState)(!1),[p,g]=(0,r.useState)(""),[v,f]=(0,r.useState)(!1),{showToast:w}=(0,h.dj)(),b=async()=>{if(!e||0>=parseInt(e))return void w("Por favor, insira um n\xfamero de dias v\xe1lido.","error");x(!0),g("");try{let t=await (0,l.gl)({dias_inatividade:e});g(t),w("Template de e-mail gerado com sucesso!","success")}catch(e){w(e.message||"Falha ao gerar o template.","error")}finally{x(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.A,{title:"Gerador de E-mail para Pacientes Inativos",subtitle:"Crie um e-mail de reengajamento para pacientes que n\xe3o retornam h\xe1 algum tempo."}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[(0,a.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-teal-700",children:"Par\xe2metros do Template"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"dias-inatividade",className:"block text-sm font-medium text-slate-700",children:"Paciente inativo h\xe1 mais de (dias)"}),(0,a.jsx)("input",{type:"number",name:"dias-inatividade",id:"dias-inatividade",value:e,onChange:e=>t(e.target.value),placeholder:"Ex: 90",className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm"})]}),(0,a.jsxs)("button",{onClick:b,disabled:s,className:"w-full inline-flex justify-center items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-teal-500 hover:bg-teal-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 disabled:bg-teal-300 disabled:cursor-not-allowed",children:[s?(0,a.jsx)(o.A,{className:"w-5 h-5 mr-3 -ml-1 animate-spin"}):(0,a.jsx)(d.A,{className:"w-5 h-5 mr-3 -ml-1"}),s?"Gerando E-mail...":"Gerar Template com IA"]}),(0,a.jsx)("div",{className:"text-xs text-slate-500 p-3 bg-slate-50 rounded-lg",children:(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Nota:"})," A IA ir\xe1 gerar um template HTML com placeholders como ",(0,a.jsx)("code",{children:"{{nome_paciente}}"}),". Seu sistema de disparo de e-mails dever\xe1 substituir esses placeholders pelos dados reais de cada paciente."]})})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-800",children:"Preview do E-mail"}),(0,a.jsxs)("button",{onClick:()=>{p&&(navigator.clipboard.writeText(p),f(!0),w("HTML do e-mail copiado para a \xe1rea de transfer\xeancia!","success"),setTimeout(()=>f(!1),2e3))},disabled:!p||v,className:"inline-flex items-center px-3 py-1.5 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-50",children:[v?(0,a.jsx)(n.A,{className:"w-4 h-4 mr-2 text-green-500"}):(0,a.jsx)(c.A,{className:"w-4 h-4 mr-2"}),v?"Copiado!":"Copiar HTML"]})]}),(0,a.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg min-h-[500px] overflow-y-auto border border-slate-200",children:[s&&(0,a.jsxs)("div",{className:"space-y-4 animate-pulse p-2",children:[(0,a.jsx)(u.E,{className:"h-4 w-1/3"}),(0,a.jsx)("br",{}),(0,a.jsx)(u.E,{className:"h-4 w-full"}),(0,a.jsx)(u.E,{className:"h-4 w-full mt-2"}),(0,a.jsx)("br",{}),(0,a.jsx)(u.E,{className:"h-4 w-full"}),(0,a.jsx)(u.E,{className:"h-4 w-full mt-2"}),(0,a.jsx)("br",{}),(0,a.jsx)(u.E,{className:"h-10 w-48 mt-2"})]}),!s&&!p&&(0,a.jsxs)("div",{className:"text-center text-slate-500 flex flex-col justify-center items-center h-full",children:[(0,a.jsx)(m.A,{className:"w-16 h-16 text-slate-300 mb-4"}),(0,a.jsx)("p",{className:"font-semibold",children:"O preview do e-mail aparecer\xe1 aqui."}),(0,a.jsx)("p",{className:"text-xs mt-1",children:'Preencha os par\xe2metros e clique em "Gerar Template".'})]}),p&&(0,a.jsx)("iframe",{srcDoc:p,title:"Preview do E-mail",className:"w-full h-[500px] border-0",sandbox:"allow-same-origin"})]})]})]})]})}},93704:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var a=s(69241),r=s(29573);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},99707:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17963).A)("clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]])}},e=>{e.O(0,[2749,636,6593,8792],()=>e(e.s=18550)),_N_E=e.O()}]);