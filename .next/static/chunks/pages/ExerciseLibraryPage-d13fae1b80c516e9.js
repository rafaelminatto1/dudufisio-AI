(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[358,5010],{368:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17963).A)("stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]])},5427:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17963).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},17963:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(14232);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:n="",children:d,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:t,...c,width:r,height:r,stroke:s,strokeWidth:i?24*Number(o)/Number(r):o,className:l("lucide",n),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),i=(e,t)=>{let s=(0,a.forwardRef)((s,c)=>{let{className:i,...n}=s;return(0,a.createElement)(o,{ref:c,iconNode:t,className:l("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...n})});return s.displayName=r(e),s}},28249:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17963).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},36867:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17963).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},42380:(e,t,s)=>{"use strict";s.d(t,{F:()=>c});var a=s(14232),r=s(42085),l=s(66822);let c=()=>{let[e,t]=(0,a.useState)([]),[s,c]=(0,a.useState)([]),[o,i]=(0,a.useState)(!0),[n,d]=(0,a.useState)(null),{showToast:u}=(0,l.dj)(),m=(0,a.useCallback)(async()=>{i(!0);try{let{exercises:e,categories:s}=await r.xY();t(e),c(s),d(null)}catch(e){d(e),u("Falha ao carregar exerc\xedcios.","error")}finally{i(!1)}},[u]);(0,a.useEffect)(()=>{m()},[m]);let x=(0,a.useMemo)(()=>[...new Set(e.flatMap(e=>e.bodyParts))].sort((e,t)=>e.localeCompare(t)),[e]),h=(0,a.useMemo)(()=>[...new Set(e.flatMap(e=>e.equipment))].sort((e,t)=>e.localeCompare(t)),[e]),p=async e=>{try{await r.WV(e),u("Exerc\xedcio adicionado com sucesso!","success"),await m()}catch(e){u("Falha ao adicionar exerc\xedcio.","error")}},g=async e=>{try{await r.O7(e),u("Exerc\xedcio atualizado com sucesso!","success"),await m()}catch(e){u("Falha ao atualizar exerc\xedcio.","error")}},f=async e=>{try{await r.C_(e),u("Exerc\xedcio exclu\xeddo com sucesso!","success"),await m()}catch(e){u("Falha ao excluir exerc\xedcio.","error")}},j=async e=>{try{await r.Ah(e),u('Grupo "'.concat(e,'" criado com sucesso!'),"success"),await m()}catch(e){u("Falha ao criar grupo.","error")}},b=async(e,t)=>{try{await r.st(e,t),u("Grupo renomeado com sucesso!","success"),await m()}catch(e){u("Falha ao renomear grupo.","error")}},w=async(e,t)=>{try{await r.CC(e,t),u('Grupo "'.concat(e,'" copiado para "').concat(t,'"!'),"success"),await m()}catch(e){u("Falha ao copiar grupo.","error")}},y=async e=>{try{await r.K7(e),u('Grupo "'.concat(e,'" e seus exerc\xedcios foram exclu\xeddos.'),"success"),await m()}catch(e){u("Falha ao excluir grupo.","error")}};return{exercises:e,categories:s,isLoading:o,error:n,refetch:m,addExercise:p,updateExercise:g,deleteExercise:f,addCategory:j,updateCategory:b,copyCategory:w,deleteCategory:y,uniqueBodyParts:x,uniqueEquipment:h}}},58725:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17963).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},74206:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17963).A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},89956:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/ExerciseLibraryPage",function(){return s(90358)}])},90358:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var a=s(37876),r=s(14232),l=s(60383),c=s(5427),o=s(28249),i=s(59435),n=s(79758),d=s(74206),u=s(93536),m=s(58725),x=s(42380),h=s(35880),p=s(269),g=s(68065),f=s(6782),j=s(95552),b=s(66815);let w=e=>{let{id:t,label:s,checked:r,onChange:l}=e;return(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:t,type:"checkbox",checked:r,onChange:e=>l(e.target.checked),className:"h-4 w-4 rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),(0,a.jsx)("label",{htmlFor:t,className:"ml-3 text-sm text-slate-600",children:s})]})},y=()=>{let{exercises:e,categories:t,isLoading:s,addExercise:y,updateExercise:N,deleteExercise:v,addCategory:C,updateCategory:A,copyCategory:k,deleteCategory:E,uniqueBodyParts:S,uniqueEquipment:F}=(0,x.F)(),[z,_]=(0,r.useState)(""),[G,L]=(0,r.useState)([]),[M,q]=(0,r.useState)([]),[P,O]=(0,r.useState)(5),[T,U]=(0,r.useState)(!1),[R,W]=(0,r.useState)(),[B,D]=(0,r.useState)(),[V,H]=(0,r.useState)(!1),[X,Z]=(0,r.useState)({mode:"create"}),[$,K]=(0,r.useState)([]),[Y,I]=(0,r.useState)(null);(0,r.useEffect)(()=>{!s&&t.length>0&&0===$.length&&t[0]&&K([t[0]])},[s,t,$.length]);let J=z||G.length>0||M.length>0||P<5,Q=(0,r.useMemo)(()=>e.filter(e=>{let t=""===z||e.name.toLowerCase().includes(z.toLowerCase())||e.category.toLowerCase().includes(z.toLowerCase()),s=0===G.length||G.some(t=>e.bodyParts.includes(t)),a=0===M.length||M.some(t=>e.equipment.includes(t)),r=e.difficulty<=P;return t&&s&&a&&r}),[e,z,G,M,P]),ee=(e,t)=>{W(e),D(t),U(!0)},et=()=>{W(void 0),D(void 0),U(!1)},es=async e=>{e.id?await N(e):await y(e),et()},ea=(e,t)=>{Z({mode:e,...t&&{name:t}}),H(!0)},er=async e=>{"create"===X.mode?await C(e):"edit"===X.mode&&X.name?await A(X.name,e):"copy"===X.mode&&X.name&&await k(X.name,e),H(!1)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(h.A,{title:"Biblioteca de Exerc\xedcios",subtitle:"Gerencie os exerc\xedcios utilizados nas prescri\xe7\xf5es da cl\xednica.",children:[(0,a.jsxs)("button",{onClick:()=>ea("create"),className:"inline-flex items-center justify-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50 mr-3",children:[(0,a.jsx)(l.A,{className:"-ml-1 mr-2 h-5 w-5"}),"Novo Grupo"]}),(0,a.jsxs)("button",{onClick:()=>ee(),className:"inline-flex items-center justify-center rounded-lg border border-transparent bg-teal-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-teal-600",children:[(0,a.jsx)(l.A,{className:"-ml-1 mr-2 h-5 w-5"}),"Novo Exerc\xedcio"]})]}),(0,a.jsx)(g.A,{isOpen:T,onClose:et,onSave:es,exerciseToEdit:R,defaultCategory:B,allCategories:t}),(0,a.jsx)(j.A,{isOpen:V,onClose:()=>H(!1),onSave:er,mode:X.mode,initialName:X.name}),(0,a.jsx)(b.A,{isOpen:!!Y,onClose:()=>I(null),videoUrl:null==Y?void 0:Y.url,title:null==Y?void 0:Y.title}),s?(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,a.jsx)(f.E,{className:"lg:col-span-1 h-96 rounded-2xl"}),(0,a.jsx)("div",{className:"lg:col-span-3 space-y-4",children:Array.from({length:3}).map((e,t)=>(0,a.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-sm",children:[(0,a.jsx)(f.E,{className:"h-8 w-1/3 mb-4"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,a.jsx)(f.E,{className:"h-48 w-full rounded-xl"}),(0,a.jsx)(f.E,{className:"h-48 w-full rounded-xl"})]})]},t))})]}):(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,a.jsx)("aside",{className:"lg:col-span-1 space-y-6",children:(0,a.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-sm",children:[(0,a.jsxs)("h3",{className:"font-bold text-slate-800 mb-4 flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(c.A,{className:"w-5 h-5 mr-2"}),"Filtros"]}),J&&(0,a.jsxs)("button",{onClick:()=>{_(""),L([]),q([]),O(5)},className:"text-xs font-semibold text-teal-600 hover:underline flex items-center",children:[(0,a.jsx)(o.A,{className:"w-3 h-3 mr-1"})," Limpar"]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-slate-700",children:"Busca por nome"}),(0,a.jsxs)("div",{className:"relative mt-1",children:[(0,a.jsx)(i.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Ex: Agachamento",value:z,onChange:e=>_(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"text-sm font-semibold text-slate-700",children:["N\xedvel de Dificuldade (m\xe1x. ",P,")"]}),(0,a.jsx)("input",{type:"range",min:"1",max:"5",value:P,onChange:e=>O(Number(e.target.value)),className:"w-full mt-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Parte do Corpo"}),(0,a.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:S.map(e=>(0,a.jsx)(w,{id:"part-".concat(e),label:e,checked:G.includes(e),onChange:t=>((e,t)=>{L(s=>t?[...s,e]:s.filter(t=>t!==e))})(e,t)},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Equipamento"}),(0,a.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:F.map(e=>(0,a.jsx)(w,{id:"equip-".concat(e),label:e,checked:M.includes(e),onChange:t=>((e,t)=>{q(s=>t?[...s,e]:s.filter(t=>t!==e))})(e,t)},e))})]})]})]})}),(0,a.jsxs)("main",{className:"lg:col-span-3 space-y-4",children:[t.map(e=>{let t=Q.filter(t=>t.category===e);if(0===t.length)return null;let s=$.includes(e);return(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm transition-shadow hover:shadow-md",children:[(0,a.jsxs)("div",{className:"group flex items-center p-4 cursor-pointer",onClick:()=>(e=>{K(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(e),children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-slate-800 flex-1",children:[e," ",(0,a.jsxs)("span",{className:"text-base font-normal text-slate-500",children:["(",t.length,")"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("button",{onClick:()=>ee(void 0,e),className:"p-2 rounded-full hover:bg-slate-100 text-slate-600",title:"Adicionar Exerc\xedcio",children:(0,a.jsx)(l.A,{size:18})}),(0,a.jsx)("button",{onClick:()=>ea("edit",e),className:"p-2 rounded-full hover:bg-slate-100 text-slate-600",title:"Renomear Grupo",children:(0,a.jsx)(n.A,{size:16})}),(0,a.jsx)("button",{onClick:()=>ea("copy",e),className:"p-2 rounded-full hover:bg-slate-100 text-slate-600",title:"Copiar Grupo",children:(0,a.jsx)(d.A,{size:16})}),(0,a.jsx)("button",{onClick:()=>(e=>{window.confirm('Tem certeza que deseja excluir o grupo "'.concat(e,'" e todos os seus exerc\xedcios? Esta a\xe7\xe3o n\xe3o pode ser desfeita.'))&&E(e)})(e),className:"p-2 rounded-full hover:bg-red-50 text-red-600",title:"Excluir Grupo",children:(0,a.jsx)(u.A,{size:16})})]}),(0,a.jsx)(m.A,{className:"ml-2 w-6 h-6 text-slate-400 transition-transform ".concat(s?"rotate-180":"")})]}),s&&(0,a.jsx)("div",{className:"p-4 border-t border-slate-200",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(e=>(0,a.jsx)(p.A,{exercise:e,onEdit:()=>ee(e),onDelete:()=>(e=>{window.confirm('Tem certeza que deseja excluir o exerc\xedcio "'.concat(e.name,'"?'))&&v(e.id)})(e),onPlay:()=>e.media.videoUrl&&I({url:e.media.videoUrl,title:e.name})},e.id))})})]},e)}),0===Q.length&&(0,a.jsxs)("div",{className:"text-center p-10 bg-white rounded-2xl shadow-sm",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-700",children:"Nenhum exerc\xedcio encontrado"}),(0,a.jsx)("p",{className:"text-slate-500 mt-1",children:"Tente ajustar seus filtros para encontrar o que procura."})]})]})]})]})}},95552:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(37876),r=s(14232),l=s(28249),c=s(6394);let o=e=>{let{isOpen:t,onClose:s,onSave:o,mode:i,initialName:n=""}=e,[d,u]=(0,r.useState)("");return((0,r.useEffect)(()=>{"copy"===i?u("".concat(n," (C\xf3pia)")):u(n)},[n,i,t]),t)?(0,a.jsx)("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:s,children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("header",{className:"flex items-center justify-between p-5 border-b border-slate-200",children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-slate-800",children:{create:"Criar Novo Grupo de Exerc\xedcios",edit:"Renomear Grupo",copy:"Copiar Grupo"}[i]}),(0,a.jsx)("button",{onClick:s,className:"p-2 rounded-full hover:bg-slate-100",children:(0,a.jsx)(l.A,{className:"w-5 h-5 text-slate-600"})})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),d.trim()&&o(d.trim())},children:[(0,a.jsxs)("main",{className:"p-6",children:[(0,a.jsx)("label",{htmlFor:"group-name",className:"text-sm font-medium text-slate-700",children:"Nome do Grupo"}),(0,a.jsx)("input",{id:"group-name",type:"text",value:d,onChange:e=>u(e.target.value),className:"mt-1 w-full p-2 border border-slate-300 rounded-lg",required:!0,autoFocus:!0}),"copy"===i&&(0,a.jsxs)("p",{className:"text-xs text-slate-500 mt-2",children:['Uma c\xf3pia de todos os exerc\xedcios do grupo "',n,'" ser\xe1 criada neste novo grupo.']})]}),(0,a.jsxs)("footer",{className:"flex justify-end items-center p-4 border-t border-slate-200 bg-slate-50 rounded-b-2xl",children:[(0,a.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 mr-2",children:"Cancelar"}),(0,a.jsxs)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 rounded-lg hover:bg-teal-600 flex items-center",children:[(0,a.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"Salvar"]})]})]})]})}):null}}},e=>{e.O(0,[2749,5898,2170,6766,5977,1547,4627,636,6593,8792],()=>e(e.s=89956)),_N_E=e.O()}]);